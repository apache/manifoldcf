Index: xdocs/status.xml
===================================================================
--- xdocs/status.xml	(revision 604567)
+++ xdocs/status.xml	(revision 915934)
@@ -1,33 +0,0 @@
-<?xml version="1.0" encoding="ISO-8859-1"?>
-
-<document>
-
-  <properties>
-    <title>Status</title>
-    <author email="httpcomponents-dev@jakarta.apache.org">HttpComponents Team</author>
-    <author email="remy@apache.org">Remy Maucherat</author>
-    <author email="rwaldhoff@apache.org">Rodney Waldhoff</author>
-    <author email="jsdever@apache.org">Jeff Dever</author>
-    <revision>$Id$</revision>
-  </properties>
-
-  <body>
-
-    <section name="Current Status">
-        <p>HttpClient 3.1 adds support for the RFC 2965 cookie management (also known as
-           Cookie2 or port sensitive cookies) and a number of improvements to the 
-           HTTP connection management. HttpClient 3.1 is backward compatible with 
-           HttpClient 3.0</p>
-        <p>HttpClient 3.1 is likely to be the last non-bug fixing release of the 
-           HttpClient 3.x code line</p>
-    </section>
-
-    <section name="Release Info">
-      <p>Current Stable Release (<b>recommended</b>): <a href="http://jakarta.apache.org/site/downloads/downloads_commons-httpclient-3.x.cgi">
-          Release 3.1</a></p>
-      <p>HttpClient 2.0 is no longer being actively developed and supported.</p>
-    </section>
-
-  </body>
-
-</document>
Index: xdocs/downloads.xml
===================================================================
--- xdocs/downloads.xml	(revision 604567)
+++ xdocs/downloads.xml	(revision 915934)
@@ -1,54 +0,0 @@
-<?xml version="1.0" encoding="ISO-8859-1"?>
-<document>
-
-   <properties>
-      <title>HttpClient Downloads</title>
-      <author email="httpcomponents-dev@jakarta.apache.org">HttpComponents Team</author>
-      <revision>$Id$</revision>
-   </properties>
-
-   <body>
-
-     <section name="Downloads">
-       <p>
-         The following releases are available for download:
-       </p>
-       <ul>
-         <li>STABLE - 3.1 - 
-            <a href="http://jakarta.apache.org/site/downloads/downloads_commons-httpclient-3.x.cgi">Download</a>
-            -
-            <a href="http://www.apache.org/dist/jakarta/httpcomponents/commons-httpclient-3.x/RELEASE_NOTES.txt"
-             >Release notes</a></li>
-       </ul>
-       <p>
-         The Subversion repository for <em>HttpClient</em> can be
-         <a href="http://svn.apache.org/viewvc/jakarta/httpcomponents/oac.hc3x/trunk/">browsed online</a>.
-       </p>
-       <p>
-         The best way to get the <em>HttpClient</em> source is to checkout
-         directly from our public Subversion
-         <a href="http://svn.apache.org/repos/asf/jakarta/httpcomponents/oac.hc3x/trunk/">repository</a>.
-         Instructions are available <a href="http://www.apache.org/dev/version-control.html">here</a>.
-       </p>
-       <p>
-         If you are using Maven for your project, you can create a dependency in your
-         project.xml with one of the following:</p>
-	 <p><b>3.1</b></p>
-         <source><![CDATA[
-<dependency>
-    <groupId>commons-httpclient</groupId>
-    <artifactId>commons-httpclient</artifactId>
-    <version>3.1</version>
-    <url>http://jakarta.apache.org/commons/httpclient/</url>
-</dependency>
-         ]]></source>
-
-           <p>There are also other jar versions available.  You can check
-           <a href="http://www.ibiblio.org/maven/commons-httpclient/">HttpClient on ibiblio</a>
-           for exactly what is available.
-       </p>
-     </section>
-
-   </body>
-
- </document>
Index: xdocs/developerguide.xml
===================================================================
--- xdocs/developerguide.xml	(revision 604567)
+++ xdocs/developerguide.xml	(revision 915934)
@@ -1,35 +0,0 @@
-<?xml version="1.0" encoding="ISO-8859-1"?>
-
-<document>
-
-  <properties>
-    <title>HttpClient Developer Guide</title>
-    <author email="adrian@ephox.com">Adrian Sutton</author>
-    <revision>$Id$</revision>
-  </properties>
-
-  <body>
-
-    <section name="Developer Guide">
-      <p>This section contains supplementary information relating to the
-      development of HttpClient.  You should be sure to read the
-      <a href="/site/getinvolved.html">general jakarta documentation</a>.
-      These pages describe how to contribute to any Jakarta project and
-      will not only help you contribute, but give you a grounding in what
-      Apache and the Jakarta project is all about.</p>
-
-      <p>Some other links that may be of interest:</p>
-
-      <ul>
-        <li><a href="http://www.apache.org/foundation/contributing.html">
-        Contributing to the Apache Software Foundation</a></li>
-        <li><a href="http://incubator.apache.org/index.html">The Incubator
-        Project</a> - A large part of this project is providing documentation
-        on how the Apache Foundation works.</li>
-        <li><a href="http://www.apache.org/foundation/faq.html">The Apache
-        FAQ</a></li>
-      </ul>
-    </section>
-
-  </body>
-</document>
Index: xdocs/exception-handling.xml
===================================================================
--- xdocs/exception-handling.xml	(revision 604567)
+++ xdocs/exception-handling.xml	(revision 915934)
@@ -285,7 +285,7 @@
      not been fully transmitted to the server).
      </p>
      <p>
-     HttpClient will automatically retry up to 5 times those methods that have been fully transmitted to 
+     HttpClient will automatically retry up to 3 times those methods that have been fully transmitted to 
      the server, but the server failed to respond with an HTTP status code (the server simply drops the 
      connection without sending anything back). In this case it is assumed that the request has not been 
      processed by the server and the application state has not changed. If this assumption may not hold 
Index: xdocs/logging.xml
===================================================================
--- xdocs/logging.xml	(revision 604567)
+++ xdocs/logging.xml	(revision 915934)
@@ -4,7 +4,7 @@
 
    <properties>
       <title>HttpClient Logging Practices</title>
-      <author email="httpcomponents-dev@jakarta.apache.org">HttpComponents Team</author>
+      <author email="dev@hc.apache.org">HttpComponents Team</author>
       <revision>$Id$</revision>
    </properties>
 
Index: xdocs/userguide.xml
===================================================================
--- xdocs/userguide.xml	(revision 604567)
+++ xdocs/userguide.xml	(revision 915934)
@@ -4,17 +4,24 @@
 
   <properties>
     <title>HttpClient User Guide</title>
+    <author email="dev@hc.apache.org">HttpComponents Team</author>
     <author email="adrian@ephox.com">Adrian Sutton</author>
     <revision>$Id$</revision>
   </properties>
 
   <body>
-
     <section name="User Guide">
       <p>The HttpClient user guide is designed to help developers use
       HttpClient in their applications.  While the concept of a user guide
-      being for developers may seem strange, the term developer guide is
-      already in use for helping people develop HttpClient.</p>
+      being for developers may seem strange, the term developer is
+      already in use for people helping to develop HttpClient.</p>
+
+      <p>If you are new to HttpClient, make sure to work through the
+         <a href="tutorial.html">Tutorial</a> and have a look at the
+<a href="http://svn.apache.org/viewvc/httpcomponents/oac.hc3x/trunk/src/examples/">Sample Code</a>.
+         Before reporting problems, read about
+         <a href="troubleshooting.html">Trouble Shooting</a>
+      </p>
     </section>
 
     <section name="Overview">
@@ -64,7 +71,7 @@
              and enumerates standard HttpClient parameters.</td>
         </tr>
         <tr>
-          <td><a href="http://svn.apache.org/viewvc/jakarta/httpcomponents/oac.hc3x/trunk/src/examples/">Sample Code</a></td>
+          <td><a href="http://svn.apache.org/viewvc/httpcomponents/oac.hc3x/trunk/src/examples/">Sample Code</a></td>
           <td>This is a link to the sample code for using HttpClient that is
           stored in the Subversion repository and is available in source releases
           of HttpClient.</td>
Index: xdocs/cookies.xml
===================================================================
--- xdocs/cookies.xml	(revision 604567)
+++ xdocs/cookies.xml	(revision 915934)
@@ -26,20 +26,10 @@
       using Cookies and HttpClient.</p>
     </section>
 
-    <section name="Available Specifications">
-      <p>The following cookie specifications are supported by HttpClient.</p>
+    <section name="Supported Specifications">
+      <p>The following cookie specifications are supported by HttpClient 3.1.
+      </p>
 
-      <subsection name="Netscape Draft">
-        <p>The Netscape draft is the original cookie specification which formed
-        the basis for RFC2109.  Despite this it has some significant
-        differences with RFC2109 and thus may be required for compatibility
-        with some servers.</p>
-
-        <p>The Netscape cookie draft is available at <a
-        href="http://wp.netscape.com/newsref/std/cookie_spec.html">http://wp.netscape.com/newsref/std/cookie_spec.html</a>
-        </p>
-      </subsection>
-
       <subsection name="RFC2109">
         <p>RFC2109 is the first official cookie specification released by the W3C.
         Theoretically, all servers that handle version 1 cookies should use this
@@ -58,6 +48,31 @@
         <p>RFC2109 is the default cookie policy used by HttpClient.</p>
       </subsection>
 
+      <subsection name="RFC2965">
+        <p>RFC2965 defines cookie version 2 and attempts to address the
+           shortcomings of the RFC2109 regarding cookie version 1.
+           RFC2965 is intended to eventually supersede RFC2109.</p>
+
+        <p>Servers that send RFC2965 cookies will use the Set-Cookie2 header
+           in addition to the Set-Cookie header. RFC2965 cookies are port
+           sensitive.
+        </p>
+        <p>RFC2965 is available at
+        <a href="http://www.w3.org/Protocols/rfc2965/rfc2965.txt">http://www.w3.org/Protocols/rfc2965/rfc2965.txt</a>
+        </p>
+      </subsection>
+
+      <subsection name="Netscape Draft">
+        <p>The Netscape draft is the original cookie specification which formed
+        the basis for RFC2109.  Despite this it has some significant
+        differences with RFC2109 and thus may be required for compatibility
+        with some servers.</p>
+
+        <p>The Netscape cookie draft is available at <a
+        href="http://wp.netscape.com/newsref/std/cookie_spec.html">http://wp.netscape.com/newsref/std/cookie_spec.html</a>
+        </p>
+      </subsection>
+
       <subsection name="Browser Compatibility">
         <p>The compatibility specification is designed to be compatible with as
         many different servers as possible even if they are not completely
@@ -72,29 +87,11 @@
 
       <subsection name="Ignore Cookies">
         <p>This cookie specification ignores all cookies.  It should be used to
-        keep HttpClient from accepting and sending cookies.</p>
+        prevent HttpClient from accepting and sending cookies.</p>
       </subsection>
 
     </section>
 
-    <section name="Unsupported Specifications">
-      <p>The following cookie specifications are not presently supported by HttpClient.</p>
-
-      <subsection name="RFC2965">
-        <p>RFC2965 defines cookie version 2 and attempts to address the shortcomings 
-        of the RFC2109 regarding cookie version 1. RFC2965 is intended to eventually 
-        supersede RFC2109.</p>
-
-        <p>Currently HttpClient does not implement this specification. Support for
-           version 2 cookies will be added in the future</p>
-
-        <p>RFC2965 is available at
-        <a href="http://www.w3.org/Protocols/rfc2965/rfc2965.txt">http://www.w3.org/Protocols/rfc2965/rfc2965.txt</a>
-        </p>
-      </subsection>
-      
-    </section>
-
     <section name="Specifying the Specification">
       <p>There are two ways to specify which cookie specification should be
       used, either for each <code>HttpMethod</code> instance using the 
Index: xdocs/navigation.xml
===================================================================
--- xdocs/navigation.xml	(revision 604567)
+++ xdocs/navigation.xml	(revision 915934)
@@ -12,27 +12,34 @@
     <menu name="Overview">
       <item name="Features" href="/features.html"/>
       <item name="News" href="/news.html"/>
-      <item name="Status" href="/status.html"/>
-      <item name="Download" href="/downloads.html"/>
+      <item name="Status" href="http://hc.apache.org/status.html"/>
+      <item name="Download" href="http://hc.apache.org/downloads.cgi"/>
       <item name="Wiki" href="http://wiki.apache.org/jakarta-httpclient/"/>
-      <item name="User Guide" href="/userguide.html">
-        <item name="Authentication Guide" href="/authentication.html"/>
-        <item name="Character Encodings" href="/charencodings.html"/>
-        <item name="Cookies" href="/cookies.html"/>
-        <item name="Exception Handling" href="/exception-handling.html"/>
-        <item name="Logging Guide" href="/logging.html"/>
-        <item name="Methods" href="/methods.html"/>
-        <item name="Optimization Guide" href="/performance.html"/>
-        <item name="Preference Architecture" href="/preference-api.html"/>
-        <item name="Redirects Handling" href="/redirects.html"/>
-        <item name="Sample Code" href="http://svn.apache.org/viewvc/jakarta/httpcomponents/oac.hc3x/trunk/src/examples/"/>
-        <item name="SSL Guide" href="/sslguide.html"/>
-        <item name="Threading" href="/threading.html"/>
-        <item name="Trouble Shooting" href="/troubleshooting.html"/>
-        <item name="Tutorial" href="/tutorial.html"/>
-      </item>
-      <item name="Developer Guide" href="/developerguide.html"/>
     </menu>
+
+    <menu name="User Guide">
+      <item name="Overview" href="/userguide.html"/>
+      <item name="Authentication Guide" href="/authentication.html"/>
+      <item name="Character Encodings" href="/charencodings.html"/>
+      <item name="Cookies" href="/cookies.html"/>
+      <item name="Exception Handling" href="/exception-handling.html"/>
+      <item name="Logging Guide" href="/logging.html"/>
+      <item name="Methods" href="/methods.html"/>
+      <item name="Optimization Guide" href="/performance.html"/>
+      <item name="Preference Architecture" href="/preference-api.html"/>
+      <item name="Redirects Handling" href="/redirects.html"/>
+      <item name="Sample Code" href="http://svn.apache.org/viewvc/httpcomponents/oac.hc3x/trunk/src/examples/"/>
+      <item name="SSL Guide" href="/sslguide.html"/>
+      <item name="Threading" href="/threading.html"/>
+      <item name="Trouble Shooting" href="/troubleshooting.html"/>
+      <item name="Tutorial" href="/tutorial.html"/>
+    </menu>
+
+    <menu name="ASF" href="http://www.apache.org/">
+      <item name="Foundation" href="http://www.apache.org/foundation/" />
+      <item name="Sponsor Apache" href="http://www.apache.org/foundation/sponsorship.html" />
+      <item name="Thanks" href="http://www.apache.org/foundation/thanks.html" />
+    </menu>
     
   </body>
 </project>
Index: xdocs/proposal.xml
===================================================================
--- xdocs/proposal.xml	(revision 604567)
+++ xdocs/proposal.xml	(revision 915934)
@@ -4,7 +4,7 @@
 
   <properties>
     <title>Proposal</title>
-    <author email="httpcomponents-dev@jakarta.apache.org">Commons Documentation Team</author>
+    <author email="dev@hc.apache.org">Commons Documentation Team</author>
     <author email="remy@apache.org">Remy Maucherat</author>
     <author email="jsdever@apache.org">Jeff Dever</author>
     <revision>$Id$</revision>
Index: xdocs/style/project.css
===================================================================
--- xdocs/style/project.css	(revision 604567)
+++ xdocs/style/project.css	(revision 915934)
@@ -1 +1 @@
-@import url("http://jakarta.apache.org/style/jakarta-maven.css");
+@import url("http://hc.apache.org/css/hc-maven.css");
Index: xdocs/methods.xml
===================================================================
--- xdocs/methods.xml	(revision 604567)
+++ xdocs/methods.xml	(revision 915934)
@@ -20,7 +20,7 @@
       <p>The examples on the following pages are not complete and are only used
       to highlight the important features that are unique to each method.  For
       complete examples, please refer to the <a
-      href="http://svn.apache.org/viewvc/jakarta/httpcomponents/oac.hc3x/trunk/src/examples/">sample
+      href="http://svn.apache.org/viewvc/httpcomponents/oac.hc3x/trunk/src/examples/">sample
       code</a>.</p>
     </section>
 
Index: xdocs/methods/get.xml
===================================================================
--- xdocs/methods/get.xml	(revision 604567)
+++ xdocs/methods/get.xml	(revision 915934)
@@ -41,11 +41,11 @@
 
       <p>See the <a href="../tutorial.html">tutorial</a> for a full example
       of using the GET method.  There are also a number of examples in the <a
-      href="http://svn.apache.org/viewvc/jakarta/httpcomponents/oac.hc3x/trunk/src/examples/">sample
+      href="http://svn.apache.org/viewvc/httpcomponents/oac.hc3x/trunk/src/examples/">sample
       code</a>.</p>
 
       <source><![CDATA[
-        GetMethod get = new GetMethod("http://jakarta.apache.org");
+        GetMethod get = new GetMethod("http://httpcomponents.apache.org");
         // execute method and handle any error responses.
         ...
         InputStream in = get.getResponseBodyAsStream();
Index: xdocs/threading.xml
===================================================================
--- xdocs/threading.xml	(revision 604567)
+++ xdocs/threading.xml	(revision 915934)
@@ -15,7 +15,7 @@
       	<li><a href="#MultiThreadedHttpConnectionManager">MultiThreadedHttpConnectionManager</a></li>
 	    <li><a href="#Connection Release">Connection Release</a></li>
 	  </ul>
-      <p>Please see the <a href="http://svn.apache.org/viewvc/jakarta/httpcomponents/oac.hc3x/trunk/src/examples/MultiThreadedExample.java?view=markup">MultiThreadedExample</a>
+      <p>Please see the <a href="http://svn.apache.org/viewvc/httpcomponents/oac.hc3x/trunk/src/examples/MultiThreadedExample.java?view=markup">MultiThreadedExample</a>
       	for a concrete example.</p>
     </section>
 
@@ -85,7 +85,7 @@
       	HttpClient client = new HttpClient(connectionManager);
 			...
         // and then from inside some thread executing a method
-        GetMethod get = new GetMethod("http://jakarta.apache.org/");
+        GetMethod get = new GetMethod("http://httpcomponents.apache.org/");
         try {
             client.executeMethod(get);
             // print response to stdout
Index: xdocs/overview.xml
===================================================================
--- xdocs/overview.xml	(revision 604567)
+++ xdocs/overview.xml	(revision 915934)
@@ -4,7 +4,7 @@
 
   <properties>
     <title>Overview</title>
-    <author email="httpcomponents-dev@jakarta.apache.org">HttpComponents Team</author>
+    <author email="dev@hc.apache.org">HttpComponents Team</author>
     <author email="rwaldhoff@apache.org">Rodney Waldhoff</author>
     <author email="jsdever@apache.org">Jeff Dever</author>
     <revision>$Id$</revision>
Index: xdocs/index.xml
===================================================================
--- xdocs/index.xml	(revision 604567)
+++ xdocs/index.xml	(revision 915934)
@@ -4,7 +4,7 @@
 
   <properties>
     <title>HttpClient Home</title>
-    <author email="httpcomponents-dev@jakarta.apache.org">HttpComponents Team</author>
+    <author email="dev@hc.apache.org">HttpComponents Team</author>
     <author email="rwaldhoff@apache.org">Rodney Waldhoff</author>
     <author email="jsdever@apache.org">Jeff Dever</author>
     <revision>$Id$</revision>
@@ -55,17 +55,18 @@
         Jakarta Commons, based on code developed by the
         <a href="http://jakarta.apache.org/slide/">Jakarta Slide</a> project.
         It was promoted out of the Commons in 2004, graduating to a separate
-        Jakarta project. In 2005, the
-        <a href="http://jakarta.apache.org/httpcomponents/">HttpComponents</a>
-        project at Jakarta was created, with the task of developing a successor
+        Jakarta project. In 2005, the HttpComponents project at Jakarta was
+        created, with the task of developing a successor
         to <em>HttpClient 3.x</em> and to maintain the existing codebase until
         the new one is ready to take over.
         The <a href="http://commons.apache.org/">Commons</a> project,
         cradle of <em>HttpClient</em>,
         left <a href="http://jakarta.apache.org/">Jakarta</a>
         in 2007 to become an independent Top Level Project.
-        For the time being, <em>HttpClient</em> still has it's home with
-        <em>HttpComponents</em> at Jakarta.
+        Later in the same year, the
+        <a href="http://httpcomponents.apache.org/">HttpComponents</a>
+        project also left Jakarta to become an independent Top Level Project,
+        taking the responsibility for maintaining <em>HttpClient</em> with it.
       </p>
     </section>
 
Index: xdocs/news.xml
===================================================================
--- xdocs/news.xml	(revision 604567)
+++ xdocs/news.xml	(revision 915934)
@@ -3,13 +3,43 @@
 
   <properties>
     <title>HttpClient News</title>
-    <author email="httpclient-dev@jakarta.apache.org">HttpClient Development Team</author>
+    <author email="dev@hc.apache.org">HttpClient Development Team</author>
     <author email="rwaldhoff@apache.org">Rodney Waldhoff</author>
     <author email="jsdever@apache.org">Jeff Dever</author>
     <revision>$Id$</revision>
   </properties>
 
   <body>
+        <section name="16 December 2007 - HttpClient 3.1 website moved">
+            <p>
+              The website for HttpClient 3.1 has moved to the new domain
+              of the HttpComponents top level project. The new location is:
+              <br/>
+              <a href="http://hc.apache.org/httpclient-3.x/">http://hc.apache.org/httpclient-3.x/</a>
+            </p>
+        </section>    
+        <section name="13 December 2007 - Mailing lists moved">
+            <p>
+                As part of the move to a top level project, the HttpComponents
+                team has moved the mailing lists to a new domain.
+                The new mailing list names are:
+            </p>
+                <ul>
+                <li><a href="mailto:httpclient-users@hc.apache.org">httpclient-users@hc.apache.org</a> - user list, renamed from httpclient-user@jakarta.apache.org
+                </li>
+                <li><a href="mailto:dev@hc.apache.org">dev@hc.apache.org</a> - developer list, renamed from httpcomponents-dev@jakarta.apache.org
+                </li>
+                </ul>
+            <p>
+                Subscribers to the old lists have been moved to the new ones.
+                No action is required for posting and receiving mails on the
+                lists, but you may have to update your mail filter rules
+                with the new list names.
+                Please see the HttpClient
+                <a href="mail-lists.html">mailing list page</a> for 
+                (un)subscription and archive details.
+            </p>
+        </section>    
         <section name="22 August 2007 - HttpClient 3.1 released">
             <p>
               HttpClient 3.1 has been released. This version adds a number improvements to the 
@@ -170,9 +200,7 @@
         <section name="23 October 2004 - New HttpClient mailing lists">
             <p>
                 Starting today HttpClient has two new mailing lists for 
-                <a href="mailto:httpclient-dev@jakarta.apache.org">developer</a> and 
-                <a href="mailto:httpclient-user@jakarta.apache.org">user</a>
-                discussion.  People previously subscribed to <i>commons-httpclient-dev</i> have
+                developer and user discussion. People previously subscribed to <i>commons-httpclient-dev</i> have
                 been automatically moved to the new developer mailing list.  People
                 subscribed to <i>commons-user</i> who are interested in HttpClient will have 
                 to join the HttpClient user mailing list manually.
@@ -416,11 +444,6 @@
       <p>The mailing list was renamed to be <b>commons-httpclient-dev</b>.
         Sorry for the confusion.
       </p>
-      <p>
-        If you wish to subscribe to this new mailing list, you can send mail to
-        <a href="mailto:commons-httpclient-dev-subscribe@jakarta.apache.org">
-          commons-httpclient-dev-subscribe@jakarta.apache.org</a>
-      </p>
     </section>
 
     <section name="12 July, 2002 - HttpClient 2.0 Release Planning">
Index: xdocs/features.xml
===================================================================
--- xdocs/features.xml	(revision 604567)
+++ xdocs/features.xml	(revision 915934)
@@ -3,7 +3,7 @@
 
   <properties>
     <title>HttpClient Features</title>
-    <author email="httpcomponents-dev@jakarta.apache.org">HttpComponents Team</author>
+    <author email="dev@hc.apache.org">HttpComponents Team</author>
     <author email="rwaldhoff@apache.org">Rodney Waldhoff</author>
     <author email="jsdever@apache.org">Jeff Dever</author>
     <revision>$Id$</revision>
Index: xdocs/authentication.xml
===================================================================
--- xdocs/authentication.xml	(revision 604567)
+++ xdocs/authentication.xml	(revision 915934)
@@ -227,11 +227,11 @@
 	</subsection>
 	</section>
     <section name="Examples">
-        <p>There are a number of authentication examples in the <a href="http://svn.apache.org/viewvc/jakarta/httpcomponents/oac.hc3x/trunk/src/examples/">example directory</a>, including:
+        <p>There are a number of authentication examples in the <a href="http://svn.apache.org/viewvc/httpcomponents/oac.hc3x/trunk/src/examples/">example directory</a>, including:
             <ul>
-                <li><a href="http://svn.apache.org/viewvc/jakarta/httpcomponents/oac.hc3x/trunk/src/examples/BasicAuthenticationExample.java?view=markup">Basic authentication</a></li>
-                <li><a href="http://svn.apache.org/viewvc/jakarta/httpcomponents/oac.hc3x/trunk/src/examples/CustomAuthenticationExample.java?view=markup">Custom authentication</a></li>
-                <li><a href="http://svn.apache.org/viewvc/jakarta/httpcomponents/oac.hc3x/trunk/src/examples/InteractiveAuthenticationExample.java?view=markup">Interactive authentication</a></li>
+                <li><a href="http://svn.apache.org/viewvc/httpcomponents/oac.hc3x/trunk/src/examples/BasicAuthenticationExample.java?view=markup">Basic authentication</a></li>
+                <li><a href="http://svn.apache.org/viewvc/httpcomponents/oac.hc3x/trunk/src/examples/CustomAuthenticationExample.java?view=markup">Custom authentication</a></li>
+                <li><a href="http://svn.apache.org/viewvc/httpcomponents/oac.hc3x/trunk/src/examples/InteractiveAuthenticationExample.java?view=markup">Interactive authentication</a></li>
             </ul>
         </p>
     </section>
Index: xdocs/sslguide.xml
===================================================================
--- xdocs/sslguide.xml	(revision 604567)
+++ xdocs/sslguide.xml	(revision 915934)
@@ -193,17 +193,17 @@
     <ul>
 
         <li>
-         <a href="http://svn.apache.org/viewvc/jakarta/httpcomponents/oac.hc3x/trunk/src/contrib/org/apache/commons/httpclient/contrib/ssl/EasySSLProtocolSocketFactory.java?view=markup">  
+         <a href="http://svn.apache.org/viewvc/httpcomponents/oac.hc3x/trunk/src/contrib/org/apache/commons/httpclient/contrib/ssl/EasySSLProtocolSocketFactory.java?view=markup">  
           EasySSLProtocolSocketFactory</a> can be used to create SSL connections that allow the target 
           server to authenticate with a self-signed certificate.
         </li>
 
         <li>
-         <a href="http://svn.apache.org/viewvc/jakarta/httpcomponents/oac.hc3x/trunk/src/contrib/org/apache/commons/httpclient/contrib/ssl/StrictSSLProtocolSocketFactory.java?view=markup">  
+         <a href="http://svn.apache.org/viewvc/httpcomponents/oac.hc3x/trunk/src/contrib/org/apache/commons/httpclient/contrib/ssl/StrictSSLProtocolSocketFactory.java?view=markup">  
           StrictSSLProtocolSocketFactory</a> can be used to create SSL connections that can optionally perform host name verification in order to help preventing man-in-the-middle type of attacks. 
         </li>
         <li>
-         <a href="http://svn.apache.org/viewvc/jakarta/httpcomponents/oac.hc3x/trunk/src/contrib/org/apache/commons/httpclient/contrib/ssl/AuthSSLProtocolSocketFactory.java?view=markup">  
+         <a href="http://svn.apache.org/viewvc/httpcomponents/oac.hc3x/trunk/src/contrib/org/apache/commons/httpclient/contrib/ssl/AuthSSLProtocolSocketFactory.java?view=markup">  
           AuthSSLProtocolSocketFactory</a> can be used to optionally enforce mutual client/server authentication. This is the most flexible
           implementation of a protocol socket factory.  It allows for customization of most, if not all, aspects of the SSL authentication.
         </li>
Index: src/test/org/apache/commons/httpclient/TestHttps.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestHttps.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestHttps.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestHttps.java,v 1.12 2004/06/13 12:13:08 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/TestHeaderElement.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestHeaderElement.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestHeaderElement.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestHeaderElement.java,v 1.7 2004/02/22 18:08:49 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/TestNVP.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestNVP.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestNVP.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestNVP.java,v 1.5 2004/02/22 18:08:49 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/TestIdleConnectionTimeout.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestIdleConnectionTimeout.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestIdleConnectionTimeout.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestIdleConnectionTimeout.java,v 1.5 2004/11/07 12:31:42 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/TestConnectionPersistence.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestConnectionPersistence.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestConnectionPersistence.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestConnectionPersistence.java,v 1.2 2004/12/20 11:42:30 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/FeedbackService.java
===================================================================
--- src/test/org/apache/commons/httpclient/FeedbackService.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/FeedbackService.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/FeedbackService.java,v 1.1 2004/11/20 17:56:39 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/AccessibleHttpConnectionManager.java
===================================================================
--- src/test/org/apache/commons/httpclient/AccessibleHttpConnectionManager.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/AccessibleHttpConnectionManager.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/AccessibleHttpConnectionManager.java,v 1.1 2004/10/16 22:40:08 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/TestHeaderOps.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestHeaderOps.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestHeaderOps.java	(revision 915934)
@@ -32,6 +32,7 @@
 import java.io.IOException;
 import java.net.InetAddress;
 import java.util.Iterator;
+import java.util.Locale;
 
 import junit.framework.Test;
 import junit.framework.TestSuite;
@@ -83,7 +84,7 @@
             for (Iterator i = request.getHeaderIterator(); i.hasNext(); ) {
                 Header header = (Header) i.next();
                 buffer.append("name=\"");
-                buffer.append(header.getName().toLowerCase());
+                buffer.append(header.getName().toLowerCase(Locale.ENGLISH));
                 buffer.append("\";value=\"");
                 buffer.append(header.getValue());
                 buffer.append("\"\r\n");
Index: src/test/org/apache/commons/httpclient/TestStreams.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestStreams.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestStreams.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestStreams.java,v 1.19 2004/10/31 14:04:13 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
@@ -112,6 +112,23 @@
         }
     }
 
+    public void testCorruptChunkedInputStream2() throws IOException {
+        //truncated chunk
+        String corrupInput = "3\r\n11";
+        HttpMethod method = new FakeHttpMethod();
+
+        InputStream in = new ChunkedInputStream(new ByteArrayInputStream(
+            EncodingUtil.getBytes(corrupInput, CONTENT_CHARSET)), method);
+        byte[] buffer = new byte[300];
+        assertEquals(2, in.read(buffer));
+        try {
+            in.read(buffer);
+            fail("Should have thrown exception");
+        } catch(IOException e) {
+            /* expected exception */
+        }
+    }
+
     public void testEmptyChunkedInputStream() throws IOException {
         String input = "0\r\n";
         HttpMethod method = new FakeHttpMethod();
Index: src/test/org/apache/commons/httpclient/TestURIUtil2.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestURIUtil2.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestURIUtil2.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestURIUtil2.java,v 1.4 2004/02/22 18:08:50 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/TestHttpState.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestHttpState.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestHttpState.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestHttpState.java,v 1.7 2004/06/23 06:50:25 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/auth/TestChallengeParser.java
===================================================================
--- src/test/org/apache/commons/httpclient/auth/TestChallengeParser.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/auth/TestChallengeParser.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/auth/TestChallengeParser.java,v 1.1 2004/03/25 20:37:20 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/auth/TestDigestAuth.java
===================================================================
--- src/test/org/apache/commons/httpclient/auth/TestDigestAuth.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/auth/TestDigestAuth.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/auth/TestDigestAuth.java,v 1.2 2004/11/07 12:31:42 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/auth/TestChallengeProcessor.java
===================================================================
--- src/test/org/apache/commons/httpclient/auth/TestChallengeProcessor.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/auth/TestChallengeProcessor.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/auth/TestChallengeProcessor.java,v 1.1 2004/03/25 20:37:20 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/auth/TestBasicAuth.java
===================================================================
--- src/test/org/apache/commons/httpclient/auth/TestBasicAuth.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/auth/TestBasicAuth.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/auth/TestBasicAuth.java,v 1.9 2004/11/20 17:56:40 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/auth/TestAuthAll.java
===================================================================
--- src/test/org/apache/commons/httpclient/auth/TestAuthAll.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/auth/TestAuthAll.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/auth/TestAuthAll.java,v 1.1 2004/10/31 13:46:54 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/auth/TestNTLMAuth.java
===================================================================
--- src/test/org/apache/commons/httpclient/auth/TestNTLMAuth.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/auth/TestNTLMAuth.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/auth/TestNTLMAuth.java,v 1.2 2004/11/07 12:31:42 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/TestExceptions.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestExceptions.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestExceptions.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestExceptions.java,v 1.4 2004/03/25 20:37:20 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -34,6 +34,7 @@
 import java.io.PrintStream;
 import java.io.PrintWriter;
 import java.io.StringWriter;
+import java.util.Locale;
 
 import junit.framework.Test;
 import junit.framework.TestCase;
@@ -125,7 +126,7 @@
         
         Throwable cause = exception.getCause();
         if (cause != null) {
-            assertTrue("Contains 'cause'", stackTrace.toLowerCase().indexOf("cause") != -1);
+            assertTrue("Contains 'cause'", stackTrace.toLowerCase(Locale.ENGLISH).indexOf("cause") != -1);
             assertTrue("Contains cause.toString()", stackTrace.indexOf(cause.toString()) != -1);
         }
     }
Index: src/test/org/apache/commons/httpclient/TestHttpMethodFundamentals.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestHttpMethodFundamentals.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestHttpMethodFundamentals.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestHttpMethodFundamentals.java,v 1.6 2004/11/06 23:47:58 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/TestHttpStatus.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestHttpStatus.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestHttpStatus.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestHttpStatus.java,v 1.4 2004/05/02 11:21:13 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/TestVirtualHost.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestVirtualHost.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestVirtualHost.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestVirtualHost.java,v 1.2 2004/10/31 14:42:59 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/TestPartsNoHost.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestPartsNoHost.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestPartsNoHost.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestPartsNoHost.java,v 1.7 2004/02/22 18:08:49 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/NoHostHttpConnectionManager.java
===================================================================
--- src/test/org/apache/commons/httpclient/NoHostHttpConnectionManager.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/NoHostHttpConnectionManager.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/NoHostHttpConnectionManager.java,v 1.9 2004/10/31 13:53:03 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/SimpleHttpServerConnection.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/SimpleHttpServerConnection.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/SimpleHttpServerConnection.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/SimpleHttpServerConnection.java,v 1.21 2004/12/11 22:35:26 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/HttpService.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/HttpService.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/HttpService.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/HttpService.java,v 1.1 2004/02/27 19:04:32 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/RequestLine.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/RequestLine.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/RequestLine.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/RequestLine.java,v 1.4 2004/09/14 15:50:41 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/SimpleConnectionThread.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/SimpleConnectionThread.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/SimpleConnectionThread.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/SimpleConnectionThread.java,v 1.3 2004/11/13 22:38:27 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/SimpleRequest.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/SimpleRequest.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/SimpleRequest.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/SimpleRequest.java,v 1.3 2004/11/13 12:21:28 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/SimpleConnManager.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/SimpleConnManager.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/SimpleConnManager.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/SimpleConnManager.java,v 1.2 2004/11/20 17:56:40 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/SimpleConnList.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/SimpleConnList.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/SimpleConnList.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/SimpleConnList.java,v 1.1 2004/11/13 12:21:28 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/SimpleResponse.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/SimpleResponse.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/SimpleResponse.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/SimpleResponse.java,v 1.8 2004/11/13 12:21:28 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/AuthRequestHandler.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/AuthRequestHandler.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/AuthRequestHandler.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/AuthRequestHandler.java,v 1.1 2004/11/20 17:56:40 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/ErrorResponse.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/ErrorResponse.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/ErrorResponse.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/ErrorResponse.java,v 1.6 2004/11/13 12:21:28 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/TransparentProxyRequestHandler.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/TransparentProxyRequestHandler.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/TransparentProxyRequestHandler.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/TransparentProxyRequestHandler.java,v 1.7 2004/12/11 22:35:26 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/ProxyAuthRequestHandler.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/ProxyAuthRequestHandler.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/ProxyAuthRequestHandler.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/ProxyAuthRequestHandler.java,v 1.12 2004/11/28 15:44:39 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/SimplePlainSocketFactory.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/SimplePlainSocketFactory.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/SimplePlainSocketFactory.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/SimplePlainSocketFactory.java,v 1.1 2004/12/11 22:35:26 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/SimpleHttpServer.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/SimpleHttpServer.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/SimpleHttpServer.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/SimpleHttpServer.java,v 1.15 2004/12/11 22:35:26 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/SimpleConnSet.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/SimpleConnSet.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/SimpleConnSet.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/SimpleConnSet.java,v 1.1 2004/11/13 12:21:28 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/HttpRequestHandler.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/HttpRequestHandler.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/HttpRequestHandler.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/HttpRequestHandler.java,v 1.4 2004/02/27 19:01:33 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/SimpleHost.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/SimpleHost.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/SimpleHost.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/SimpleHost.java,v 1.1 2004/11/13 12:21:28 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/ProxyRequestHandler.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/ProxyRequestHandler.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/ProxyRequestHandler.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/ProxyRequestHandler.java,v 1.11 2004/12/11 22:35:26 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/HttpRequestHandlerChain.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/HttpRequestHandlerChain.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/HttpRequestHandlerChain.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/HttpRequestHandlerChain.java,v 1.6 2004/11/28 15:44:39 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/SimpleSocketFactory.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/SimpleSocketFactory.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/SimpleSocketFactory.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/SimpleSocketFactory.java,v 1.1 2004/12/11 22:35:26 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/ResponseWriter.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/ResponseWriter.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/ResponseWriter.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/ResponseWriter.java,v 1.5 2004/11/07 12:31:42 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/SimpleProxy.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/SimpleProxy.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/SimpleProxy.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/SimpleProxy.java,v 1.8 2004/12/11 22:35:26 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/server/HttpServiceHandler.java
===================================================================
--- src/test/org/apache/commons/httpclient/server/HttpServiceHandler.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/server/HttpServiceHandler.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/server/HttpServiceHandler.java,v 1.9 2004/11/13 22:38:27 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/TestPostMethod.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestPostMethod.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestPostMethod.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestWebappPostMethod.java,v 1.7 2004/05/12 20:43:54 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/cookie/TestCookieAll.java
===================================================================
--- src/test/org/apache/commons/httpclient/cookie/TestCookieAll.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/cookie/TestCookieAll.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/cookie/TestCookieAll.java,v 1.3 2004/12/24 20:36:13 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/cookie/TestCookieBase.java
===================================================================
--- src/test/org/apache/commons/httpclient/cookie/TestCookieBase.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/cookie/TestCookieBase.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/cookie/TestCookieBase.java,v 1.1 2004/04/24 19:39:24 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/cookie/TestCookieRFC2965Spec.java
===================================================================
--- src/test/org/apache/commons/httpclient/cookie/TestCookieRFC2965Spec.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/cookie/TestCookieRFC2965Spec.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/cookie/TestCookieIgnoreSpec.java
===================================================================
--- src/test/org/apache/commons/httpclient/cookie/TestCookieIgnoreSpec.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/cookie/TestCookieIgnoreSpec.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/cookie/TestCookieIgnoreSpec.java,v 1.5 2004/10/31 14:42:59 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/cookie/TestCookie.java
===================================================================
--- src/test/org/apache/commons/httpclient/cookie/TestCookie.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/cookie/TestCookie.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/cookie/TestCookie.java,v 1.2 2004/04/25 12:25:09 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/cookie/TestCookiePolicy.java
===================================================================
--- src/test/org/apache/commons/httpclient/cookie/TestCookiePolicy.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/cookie/TestCookiePolicy.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/cookie/TestCookiePolicy.java,v 1.2 2004/09/14 20:11:32 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/cookie/TestDateParser.java
===================================================================
--- src/test/org/apache/commons/httpclient/cookie/TestDateParser.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/cookie/TestDateParser.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/cookie/TestDateParser.java,v 1.1 2004/12/24 20:36:13 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/cookie/TestCookie2.java
===================================================================
--- src/test/org/apache/commons/httpclient/cookie/TestCookie2.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/cookie/TestCookie2.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /cvsroot/httpc-cookie2/httpc-cookie2/httpcookie2SVN-patch.082805-2100.diff,v 1.1 2005/08/29 05:01:58 sjain700 Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/cookie/TestCookieRFC2109Spec.java
===================================================================
--- src/test/org/apache/commons/httpclient/cookie/TestCookieRFC2109Spec.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/cookie/TestCookieRFC2109Spec.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/cookie/TestCookieRFC2109Spec.java,v 1.3 2004/06/05 16:49:20 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/cookie/TestCookieNetscapeDraft.java
===================================================================
--- src/test/org/apache/commons/httpclient/cookie/TestCookieNetscapeDraft.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/cookie/TestCookieNetscapeDraft.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/cookie/TestCookieNetscapeDraft.java,v 1.2 2004/04/24 23:28:04 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/cookie/TestCookieCompatibilitySpec.java
===================================================================
--- src/test/org/apache/commons/httpclient/cookie/TestCookieCompatibilitySpec.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/cookie/TestCookieCompatibilitySpec.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/cookie/TestCookieCompatibilitySpec.java,v 1.7 2004/09/14 20:11:32 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/cookie/TestCookiePathComparator.java
===================================================================
--- src/test/org/apache/commons/httpclient/cookie/TestCookiePathComparator.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/cookie/TestCookiePathComparator.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $HeaderURL$
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/TestHttpConnectionManager.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestHttpConnectionManager.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestHttpConnectionManager.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestHttpConnectionManager.java,v 1.23 2004/07/17 18:58:33 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/TestEquals.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestEquals.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestEquals.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestEquals.java,v 1.2 2004/02/22 18:08:49 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/TestResponseHeaders.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestResponseHeaders.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestResponseHeaders.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestResponseHeaders.java,v 1.18 2004/11/07 12:31:42 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/ExecuteMethodThread.java
===================================================================
--- src/test/org/apache/commons/httpclient/ExecuteMethodThread.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/ExecuteMethodThread.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/ExecuteMethodThread.java,v 1.2 2004/02/22 18:08:49 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/TestHttpParser.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestHttpParser.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestHttpParser.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestHttpParser.java,v 1.3 2004/02/22 18:08:49 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/TestCredentials.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestCredentials.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestCredentials.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestCredentials.java,v 1.1 2004/10/31 13:46:54 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/TestPostParameterEncoding.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestPostParameterEncoding.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestPostParameterEncoding.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestPostMethod.java,v 1.5 2004/12/12 10:02:38 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/TestURIUtil.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestURIUtil.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestURIUtil.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestURIUtil.java,v 1.6 2004/02/22 18:08:50 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/TestHttpConnection.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestHttpConnection.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestHttpConnection.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header$
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/EchoService.java
===================================================================
--- src/test/org/apache/commons/httpclient/EchoService.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/EchoService.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/EchoService.java,v 1.2 2004/11/20 17:56:39 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/params/TestHttpParams.java
===================================================================
--- src/test/org/apache/commons/httpclient/params/TestHttpParams.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/params/TestHttpParams.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/params/TestHttpParams.java,v 1.4 2004/10/31 14:42:59 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/params/TestSSLTunnelParams.java
===================================================================
--- src/test/org/apache/commons/httpclient/params/TestSSLTunnelParams.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/params/TestSSLTunnelParams.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header$
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/params/TestParamsAll.java
===================================================================
--- src/test/org/apache/commons/httpclient/params/TestParamsAll.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/params/TestParamsAll.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header$
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/TestEffectiveHttpVersion.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestEffectiveHttpVersion.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestEffectiveHttpVersion.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestEffectiveHttpVersion.java,v 1.4 2004/10/31 14:42:59 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/FakeHttpMethod.java
===================================================================
--- src/test/org/apache/commons/httpclient/FakeHttpMethod.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/FakeHttpMethod.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/FakeHttpMethod.java,v 1.2 2004/10/31 14:04:13 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/TestMethodAbort.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestMethodAbort.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestMethodAbort.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestMethodAbort.java,v 1.3 2004/10/31 14:42:59 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/HttpClientTestBase.java
===================================================================
--- src/test/org/apache/commons/httpclient/HttpClientTestBase.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/HttpClientTestBase.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/HttpClientTestBase.java,v 1.7 2004/11/07 12:31:42 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/TestProxy.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestProxy.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestProxy.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestProxy.java,v 1.11 2004/12/11 22:35:26 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/ssl/SimpleSSLSocketFactory.java
===================================================================
--- src/test/org/apache/commons/httpclient/ssl/SimpleSSLSocketFactory.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/ssl/SimpleSSLSocketFactory.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/ssl/SimpleSSLSocketFactory.java,v 1.1 2004/12/11 22:35:26 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/ssl/SimpleSSLTestProtocolSocketFactory.java
===================================================================
--- src/test/org/apache/commons/httpclient/ssl/SimpleSSLTestProtocolSocketFactory.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/ssl/SimpleSSLTestProtocolSocketFactory.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/ssl/SimpleSSLTestProtocolSocketFactory.java,v 1.1 2004/12/11 22:35:26 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/ProxyTestDecorator.java
===================================================================
--- src/test/org/apache/commons/httpclient/ProxyTestDecorator.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/ProxyTestDecorator.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/ProxyTestDecorator.java,v 1.1 2004/11/01 02:21:15 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/TestRedirects.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestRedirects.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestRedirects.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestRedirects.java,v 1.9 2005/01/14 19:40:39 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/TestRequestHeaders.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestRequestHeaders.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestRequestHeaders.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestRequestHeaders.java,v 1.8 2004/10/31 14:04:13 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/TestHttpVersion.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestHttpVersion.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestHttpVersion.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestHttpVersion.java,v 1.3 2004/05/09 12:16:12 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/TestMultipartPost.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestMultipartPost.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestMultipartPost.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestMultipartPost.java,v 1.3 2004/11/01 02:21:15 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/test/org/apache/commons/httpclient/TestHeader.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestHeader.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestHeader.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestHeader.java,v 1.6 2004/02/22 18:08:49 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/test/org/apache/commons/httpclient/TestStatusLine.java
===================================================================
--- src/test/org/apache/commons/httpclient/TestStatusLine.java	(revision 604567)
+++ src/test/org/apache/commons/httpclient/TestStatusLine.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/test/org/apache/commons/httpclient/TestStatusLine.java,v 1.9 2004/07/19 20:24:21 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/contrib/org/apache/commons/httpclient/contrib/auth/NegotiateScheme.java
===================================================================
--- src/contrib/org/apache/commons/httpclient/contrib/auth/NegotiateScheme.java	(revision 604567)
+++ src/contrib/org/apache/commons/httpclient/contrib/auth/NegotiateScheme.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header:$
+ * $HeadURL:$
  * $Revision$
  * $Date$
  *
Index: src/contrib/org/apache/commons/httpclient/contrib/auth/CustomAuthenticationNegotiateExample.java
===================================================================
--- src/contrib/org/apache/commons/httpclient/contrib/auth/CustomAuthenticationNegotiateExample.java	(revision 604567)
+++ src/contrib/org/apache/commons/httpclient/contrib/auth/CustomAuthenticationNegotiateExample.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/contrib/org/apache/commons/httpclient/contrib/proxy/PluginProxyUtil.java
===================================================================
--- src/contrib/org/apache/commons/httpclient/contrib/proxy/PluginProxyUtil.java	(revision 604567)
+++ src/contrib/org/apache/commons/httpclient/contrib/proxy/PluginProxyUtil.java	(revision 915934)
@@ -32,6 +32,7 @@
 import java.lang.reflect.Array;
 import java.lang.reflect.Method;
 import java.net.URL;
+import java.util.Locale;
 import java.util.Properties;
 
 import org.apache.commons.httpclient.ProxyHost;
@@ -286,7 +287,7 @@
             }
             boolean useProxy = (proxyList != null);
             if (useProxy) {
-                proxyList = proxyList.toUpperCase();
+                proxyList = proxyList.toUpperCase(Locale.ENGLISH);
                 //  Using HTTP proxy as proxy for HTTP proxy tunnelled SSL 
                 //  socket (should be listed FIRST)....
                 //  1/14/03 1.3.1_06 appears to omit HTTP portion of 
Index: src/contrib/org/apache/commons/httpclient/contrib/ssl/SocketFactoryWrapper.java
===================================================================
--- src/contrib/org/apache/commons/httpclient/contrib/ssl/SocketFactoryWrapper.java	(revision 604567)
+++ src/contrib/org/apache/commons/httpclient/contrib/ssl/SocketFactoryWrapper.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header$
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/contrib/org/apache/commons/httpclient/contrib/ssl/AuthSSLInitializationError.java
===================================================================
--- src/contrib/org/apache/commons/httpclient/contrib/ssl/AuthSSLInitializationError.java	(revision 604567)
+++ src/contrib/org/apache/commons/httpclient/contrib/ssl/AuthSSLInitializationError.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/contrib/org/apache/commons/httpclient/contrib/ssl/AuthSSLInitializationError.java,v 1.2 2004/06/10 18:25:24 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/contrib/org/apache/commons/httpclient/contrib/ssl/HttpHostFactory.java
===================================================================
--- src/contrib/org/apache/commons/httpclient/contrib/ssl/HttpHostFactory.java	(revision 604567)
+++ src/contrib/org/apache/commons/httpclient/contrib/ssl/HttpHostFactory.java	(revision 915934)
@@ -1,5 +1,7 @@
 package org.apache.commons.httpclient.contrib.ssl;
 
+import java.util.Locale;
+
 import org.apache.commons.httpclient.HostConfiguration;
 import org.apache.commons.httpclient.HttpHost;
 import org.apache.commons.httpclient.HttpsURL;
@@ -47,7 +49,7 @@
                 return oldProtocol; // Retain it.
             }
         }
-        Protocol newProtocol = (scheme != null && scheme.toLowerCase().endsWith("s")) ? httpsProtocol
+        Protocol newProtocol = (scheme != null && scheme.toLowerCase(Locale.ENGLISH).endsWith("s")) ? httpsProtocol
                 : httpProtocol;
         if (newProtocol == null) {
             newProtocol = Protocol.getProtocol(scheme);
Index: src/contrib/org/apache/commons/httpclient/contrib/ssl/AuthSSLProtocolSocketFactory.java
===================================================================
--- src/contrib/org/apache/commons/httpclient/contrib/ssl/AuthSSLProtocolSocketFactory.java	(revision 604567)
+++ src/contrib/org/apache/commons/httpclient/contrib/ssl/AuthSSLProtocolSocketFactory.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/contrib/org/apache/commons/httpclient/contrib/ssl/AuthSSLProtocolSocketFactory.java,v 1.2 2004/06/10 18:25:24 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/contrib/org/apache/commons/httpclient/contrib/ssl/AuthSSLX509TrustManager.java
===================================================================
--- src/contrib/org/apache/commons/httpclient/contrib/ssl/AuthSSLX509TrustManager.java	(revision 604567)
+++ src/contrib/org/apache/commons/httpclient/contrib/ssl/AuthSSLX509TrustManager.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/contrib/org/apache/commons/httpclient/contrib/ssl/AuthSSLX509TrustManager.java,v 1.2 2004/06/10 18:25:24 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/contrib/org/apache/commons/httpclient/contrib/ssl/EasySSLProtocolSocketFactory.java
===================================================================
--- src/contrib/org/apache/commons/httpclient/contrib/ssl/EasySSLProtocolSocketFactory.java	(revision 604567)
+++ src/contrib/org/apache/commons/httpclient/contrib/ssl/EasySSLProtocolSocketFactory.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/contrib/org/apache/commons/httpclient/contrib/ssl/EasySSLProtocolSocketFactory.java,v 1.7 2004/06/11 19:26:27 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * 
@@ -37,17 +37,17 @@
 import java.net.SocketAddress;
 import java.net.UnknownHostException;
 
+import javax.net.SocketFactory;
+import javax.net.ssl.SSLContext;
+import javax.net.ssl.TrustManager;
+
 import org.apache.commons.httpclient.ConnectTimeoutException;
 import org.apache.commons.httpclient.HttpClientError;
 import org.apache.commons.httpclient.params.HttpConnectionParams;
 import org.apache.commons.httpclient.protocol.SecureProtocolSocketFactory;
-import org.apache.commons.logging.Log; 
+import org.apache.commons.logging.Log;
 import org.apache.commons.logging.LogFactory;
 
-import javax.net.SocketFactory;
-import javax.net.ssl.SSLContext;
-import javax.net.ssl.TrustManager;
-
 /**
  * <p>
  * EasySSLProtocolSocketFactory can be used to creats SSL {@link Socket}s 
@@ -65,11 +65,13 @@
  *     <pre>
  *     Protocol easyhttps = new Protocol("https", new EasySSLProtocolSocketFactory(), 443);
  *
+ *     URI uri = new URI("https://localhost/", true);
+ *     // use relative url only
+ *     GetMethod httpget = new GetMethod(uri.getPathQuery());
+ *     HostConfiguration hc = new HostConfiguration();
+ *     hc.setHost(uri.getHost(), uri.getPort(), easyhttps);
  *     HttpClient client = new HttpClient();
- *     client.getHostConfiguration().setHost("localhost", 443, easyhttps);
- *     // use relative url only
- *     GetMethod httpget = new GetMethod("/");
- *     client.executeMethod(httpget);
+ *     client.executeMethod(hc, httpget);
  *     </pre>
  * </p>
  * <p>
Index: src/contrib/org/apache/commons/httpclient/contrib/ssl/StrictSSLProtocolSocketFactory.java
===================================================================
--- src/contrib/org/apache/commons/httpclient/contrib/ssl/StrictSSLProtocolSocketFactory.java	(revision 604567)
+++ src/contrib/org/apache/commons/httpclient/contrib/ssl/StrictSSLProtocolSocketFactory.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/contrib/org/apache/commons/httpclient/contrib/ssl/StrictSSLProtocolSocketFactory.java,v 1.5 2004/06/10 18:25:24 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/contrib/org/apache/commons/httpclient/contrib/methods/multipart/ContentTypeFilePart.java
===================================================================
--- src/contrib/org/apache/commons/httpclient/contrib/methods/multipart/ContentTypeFilePart.java	(revision 604567)
+++ src/contrib/org/apache/commons/httpclient/contrib/methods/multipart/ContentTypeFilePart.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/contrib/org/apache/commons/httpclient/contrib/methods/multipart/ContentTypeFilePart.java,v 1.2 2004/02/22 18:08:45 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/NTCredentials.java
===================================================================
--- src/java/org/apache/commons/httpclient/NTCredentials.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/NTCredentials.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/NTCredentials.java,v 1.10 2004/04/18 23:51:35 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/URI.java
===================================================================
--- src/java/org/apache/commons/httpclient/URI.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/URI.java	(revision 915934)
@@ -264,7 +264,7 @@
         if (scheme == null) {
            throw new URIException(URIException.PARSING, "scheme required");
         }
-        char[] s = scheme.toLowerCase().toCharArray();
+        char[] s = scheme.toLowerCase(Locale.ENGLISH).toCharArray();
         if (validate(s, URI.scheme)) {
             _scheme = s; // is_absoluteURI
         } else {
@@ -1945,7 +1945,7 @@
          * </pre></blockquote><p>
          */
         if (at > 0 && at < length && tmp.charAt(at) == ':') {
-            char[] target = tmp.substring(0, at).toLowerCase().toCharArray();
+            char[] target = tmp.substring(0, at).toLowerCase(Locale.ENGLISH).toCharArray();
             if (validate(target, scheme)) {
                 _scheme = target;
             } else {
Index: src/java/org/apache/commons/httpclient/HeaderElement.java
===================================================================
--- src/java/org/apache/commons/httpclient/HeaderElement.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/HeaderElement.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/HeaderElement.java,v 1.23 2004/05/13 04:03:25 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/HttpURL.java
===================================================================
--- src/java/org/apache/commons/httpclient/HttpURL.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/HttpURL.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/HttpURL.java,v 1.18 2004/09/30 17:26:41 oglueck Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/MethodRetryHandler.java
===================================================================
--- src/java/org/apache/commons/httpclient/MethodRetryHandler.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/MethodRetryHandler.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/MethodRetryHandler.java,v 1.5 2004/07/05 22:46:58 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/SimpleHttpConnectionManager.java
===================================================================
--- src/java/org/apache/commons/httpclient/SimpleHttpConnectionManager.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/SimpleHttpConnectionManager.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/SimpleHttpConnectionManager.java,v 1.23 2004/10/16 22:40:08 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -268,6 +268,8 @@
      * @since 3.0
      */
     public void closeIdleConnections(long idleTimeout) {
+        if (httpConnection == null)
+            return;
         long maxIdleTime = System.currentTimeMillis() - idleTimeout;
         if (idleStartTime <= maxIdleTime) {
             httpConnection.close();
@@ -278,7 +280,8 @@
      * since 3.1
      */
     public void shutdown() {
-        httpConnection.close();
+        if (httpConnection != null)
+            httpConnection.close();
     }
     
 }
Index: src/java/org/apache/commons/httpclient/WireLogInputStream.java
===================================================================
--- src/java/org/apache/commons/httpclient/WireLogInputStream.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/WireLogInputStream.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/WireLogInputStream.java,v 1.15 2004/06/24 21:39:52 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -79,7 +79,7 @@
      */
     public int read() throws IOException {
         int l = this.in.read();
-        if (l > 0) { 
+        if (l != -1) { 
             wire.input(l);
         }
         return l;
Index: src/java/org/apache/commons/httpclient/CircularRedirectException.java
===================================================================
--- src/java/org/apache/commons/httpclient/CircularRedirectException.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/CircularRedirectException.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/CircularRedirectException.java,v 1.1 2005/01/14 19:40:39 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/HostConfiguration.java
===================================================================
--- src/java/org/apache/commons/httpclient/HostConfiguration.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/HostConfiguration.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/HostConfiguration.java,v 1.23 2005/01/14 21:16:40 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/ContentLengthInputStream.java
===================================================================
--- src/java/org/apache/commons/httpclient/ContentLengthInputStream.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/ContentLengthInputStream.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/ContentLengthInputStream.java,v 1.12 2004/10/04 22:05:44 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/Cookie.java
===================================================================
--- src/java/org/apache/commons/httpclient/Cookie.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/Cookie.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/Cookie.java,v 1.44 2004/06/05 16:49:20 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -33,6 +33,7 @@
 import java.io.Serializable;
 import java.util.Comparator;
 import java.util.Date;
+import java.util.Locale;
 
 import org.apache.commons.httpclient.cookie.CookiePolicy;
 import org.apache.commons.httpclient.cookie.CookieSpec;
@@ -234,7 +235,7 @@
             if (ndx != -1) {
               domain = domain.substring(0, ndx);
             }
-            cookieDomain = domain.toLowerCase();
+            cookieDomain = domain.toLowerCase(Locale.ENGLISH);
         }
     }
 
Index: src/java/org/apache/commons/httpclient/DefaultHttpMethodRetryHandler.java
===================================================================
--- src/java/org/apache/commons/httpclient/DefaultHttpMethodRetryHandler.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/DefaultHttpMethodRetryHandler.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/DefaultHttpMethodRetryHandler.java,v 1.3 2004/12/20 11:47:46 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/ResponseConsumedWatcher.java
===================================================================
--- src/java/org/apache/commons/httpclient/ResponseConsumedWatcher.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/ResponseConsumedWatcher.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/ResponseConsumedWatcher.java,v 1.5 2004/04/18 23:51:35 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/ChunkedInputStream.java
===================================================================
--- src/java/org/apache/commons/httpclient/ChunkedInputStream.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/ChunkedInputStream.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/ChunkedInputStream.java,v 1.24 2004/10/10 15:18:55 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -148,8 +148,11 @@
                 return -1;
             }
         }
-        pos++;
-        return in.read();
+        int b = in.read();
+        if (b != -1) {
+            pos++;
+        }
+        return b;
     }
 
     /**
@@ -179,9 +182,13 @@
             }
         }
         len = Math.min(len, chunkSize - pos);
-        int count = in.read(b, off, len);
-        pos += count;
-        return count;
+        int bytesRead = in.read(b, off, len);
+        if (bytesRead != -1) {
+            pos += bytesRead;
+            return bytesRead;
+        } else {
+            throw new IOException("Truncated chunk");
+        }
     }
 
     /**
Index: src/java/org/apache/commons/httpclient/ChunkedOutputStream.java
===================================================================
--- src/java/org/apache/commons/httpclient/ChunkedOutputStream.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/ChunkedOutputStream.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/ChunkedOutputStream.java,v 1.16 2004/05/13 04:03:25 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/URIException.java
===================================================================
--- src/java/org/apache/commons/httpclient/URIException.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/URIException.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/URIException.java,v 1.12 2004/09/30 18:53:20 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/ConnectionPoolTimeoutException.java
===================================================================
--- src/java/org/apache/commons/httpclient/ConnectionPoolTimeoutException.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/ConnectionPoolTimeoutException.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/ConnectionPoolTimeoutException.java,v 1.1 2004/07/05 22:46:58 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/UsernamePasswordCredentials.java
===================================================================
--- src/java/org/apache/commons/httpclient/UsernamePasswordCredentials.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/UsernamePasswordCredentials.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/UsernamePasswordCredentials.java,v 1.14 2004/04/18 23:51:35 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/ProtocolException.java
===================================================================
--- src/java/org/apache/commons/httpclient/ProtocolException.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/ProtocolException.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/ProtocolException.java,v 1.4 2004/05/13 04:03:25 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/HttpState.java
===================================================================
--- src/java/org/apache/commons/httpclient/HttpState.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/HttpState.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/HttpState.java,v 1.38 2004/12/20 11:50:54 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/protocol/Protocol.java
===================================================================
--- src/java/org/apache/commons/httpclient/protocol/Protocol.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/protocol/Protocol.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/protocol/Protocol.java,v 1.10 2004/04/18 23:51:38 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -31,6 +31,7 @@
 
 import java.util.Collections;
 import java.util.HashMap;
+import java.util.Locale;
 import java.util.Map;
 
 import org.apache.commons.httpclient.util.LangUtils;
@@ -288,7 +289,7 @@
     public int hashCode() {
         int hash = LangUtils.HASH_SEED;
         hash = LangUtils.hashCode(hash, this.defaultPort);
-        hash = LangUtils.hashCode(hash, this.scheme.toLowerCase());
+        hash = LangUtils.hashCode(hash, this.scheme.toLowerCase(Locale.ENGLISH));
         hash = LangUtils.hashCode(hash, this.secure);
         hash = LangUtils.hashCode(hash, this.socketFactory);
         return hash;
Index: src/java/org/apache/commons/httpclient/protocol/ProtocolSocketFactory.java
===================================================================
--- src/java/org/apache/commons/httpclient/protocol/ProtocolSocketFactory.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/protocol/ProtocolSocketFactory.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/protocol/ProtocolSocketFactory.java,v 1.10 2004/05/13 04:01:22 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/protocol/SSLProtocolSocketFactory.java
===================================================================
--- src/java/org/apache/commons/httpclient/protocol/SSLProtocolSocketFactory.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/protocol/SSLProtocolSocketFactory.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/protocol/SSLProtocolSocketFactory.java,v 1.10 2004/05/13 04:01:22 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/protocol/DefaultProtocolSocketFactory.java
===================================================================
--- src/java/org/apache/commons/httpclient/protocol/DefaultProtocolSocketFactory.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/protocol/DefaultProtocolSocketFactory.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/protocol/DefaultProtocolSocketFactory.java,v 1.10 2004/05/13 04:01:22 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/protocol/SecureProtocolSocketFactory.java
===================================================================
--- src/java/org/apache/commons/httpclient/protocol/SecureProtocolSocketFactory.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/protocol/SecureProtocolSocketFactory.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/protocol/SecureProtocolSocketFactory.java,v 1.6 2004/04/18 23:51:38 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/protocol/ReflectionSocketFactory.java
===================================================================
--- src/java/org/apache/commons/httpclient/protocol/ReflectionSocketFactory.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/protocol/ReflectionSocketFactory.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/protocol/ReflectionSocketFactory.java,v 1.4 2004/12/21 23:15:21 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/protocol/ControllerThreadSocketFactory.java
===================================================================
--- src/java/org/apache/commons/httpclient/protocol/ControllerThreadSocketFactory.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/protocol/ControllerThreadSocketFactory.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/protocol/ControllerThreadSocketFactory.java,v 1.2 2004/04/18 23:51:38 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/auth/NTLMScheme.java
===================================================================
--- src/java/org/apache/commons/httpclient/auth/NTLMScheme.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/auth/NTLMScheme.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/auth/NTLMScheme.java,v 1.21 2004/05/13 04:02:00 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/auth/AuthState.java
===================================================================
--- src/java/org/apache/commons/httpclient/auth/AuthState.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/auth/AuthState.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/auth/AuthState.java,v 1.3 2004/11/02 19:39:16 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/auth/AuthChallengeProcessor.java
===================================================================
--- src/java/org/apache/commons/httpclient/auth/AuthChallengeProcessor.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/auth/AuthChallengeProcessor.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/auth/AuthChallengeProcessor.java,v 1.2 2004/04/18 23:51:36 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -32,6 +32,7 @@
 
 import java.util.Collection;
 import java.util.Iterator;
+import java.util.Locale;
 import java.util.Map;
 
 import org.apache.commons.httpclient.params.HttpParams;
@@ -95,7 +96,7 @@
         Iterator item = authPrefs.iterator();
         while (item.hasNext()) {
             String id = (String) item.next();
-            challenge = (String) challenges.get(id.toLowerCase()); 
+            challenge = (String) challenges.get(id.toLowerCase(Locale.ENGLISH)); 
             if (challenge != null) {
                 if (LOG.isInfoEnabled()) {
                     LOG.info(id + " authentication scheme selected");
@@ -154,7 +155,7 @@
         if (LOG.isDebugEnabled()) {
             LOG.debug("Using authentication scheme: " + id);
         }
-        String challenge = (String) challenges.get(id.toLowerCase());
+        String challenge = (String) challenges.get(id.toLowerCase(Locale.ENGLISH));
         if (challenge == null) {
             throw new AuthenticationException(id + 
                 " authorization challenge expected, but not found");
Index: src/java/org/apache/commons/httpclient/auth/DigestScheme.java
===================================================================
--- src/java/org/apache/commons/httpclient/auth/DigestScheme.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/auth/DigestScheme.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/auth/DigestScheme.java,v 1.22 2004/12/30 11:01:27 oglueck Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/auth/BasicScheme.java
===================================================================
--- src/java/org/apache/commons/httpclient/auth/BasicScheme.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/auth/BasicScheme.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/auth/BasicScheme.java,v 1.17 2004/05/13 04:02:00 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/auth/CredentialsProvider.java
===================================================================
--- src/java/org/apache/commons/httpclient/auth/CredentialsProvider.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/auth/CredentialsProvider.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/auth/CredentialsProvider.java,v 1.6 2004/07/05 22:46:59 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/auth/NTLM.java
===================================================================
--- src/java/org/apache/commons/httpclient/auth/NTLM.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/auth/NTLM.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/auth/NTLM.java,v 1.11 2004/05/13 04:02:00 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -32,6 +32,7 @@
 
 import java.security.InvalidKeyException;
 import java.security.NoSuchAlgorithmException;
+import java.util.Locale;
 
 import javax.crypto.BadPaddingException;
 import javax.crypto.Cipher;
@@ -230,8 +231,8 @@
      * @return String the message to add to the HTTP request header.
      */
     public String getType1Message(String host, String domain) {
-        host = host.toUpperCase();
-        domain = domain.toUpperCase();
+        host = host.toUpperCase(Locale.ENGLISH);
+        domain = domain.toUpperCase(Locale.ENGLISH);
         byte[] hostBytes = EncodingUtil.getBytes(host, DEFAULT_CHARSET);
         byte[] domainBytes = EncodingUtil.getBytes(domain, DEFAULT_CHARSET);
 
@@ -334,9 +335,9 @@
 
         int ntRespLen = 0;
         int lmRespLen = 24;
-        domain = domain.toUpperCase();
-        host = host.toUpperCase();
-        user = user.toUpperCase();
+        domain = domain.toUpperCase(Locale.ENGLISH);
+        host = host.toUpperCase(Locale.ENGLISH);
+        user = user.toUpperCase(Locale.ENGLISH);
         byte[] domainBytes = EncodingUtil.getBytes(domain, DEFAULT_CHARSET);
         byte[] hostBytes = EncodingUtil.getBytes(host, DEFAULT_CHARSET);
         byte[] userBytes = EncodingUtil.getBytes(user, credentialCharset);
@@ -429,7 +430,7 @@
      */
     private byte[] hashPassword(String password, byte[] nonce)
         throws AuthenticationException {
-        byte[] passw = EncodingUtil.getBytes(password.toUpperCase(), credentialCharset);
+        byte[] passw = EncodingUtil.getBytes(password.toUpperCase(Locale.ENGLISH), credentialCharset);
         byte[] lmPw1 = new byte[7];
         byte[] lmPw2 = new byte[7];
 
Index: src/java/org/apache/commons/httpclient/auth/HttpAuthenticator.java
===================================================================
--- src/java/org/apache/commons/httpclient/auth/HttpAuthenticator.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/auth/HttpAuthenticator.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/auth/HttpAuthenticator.java,v 1.19 2004/10/06 17:32:04 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/auth/RFC2617Scheme.java
===================================================================
--- src/java/org/apache/commons/httpclient/auth/RFC2617Scheme.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/auth/RFC2617Scheme.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/auth/RFC2617Scheme.java,v 1.10 2004/05/13 04:02:00 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -30,6 +30,7 @@
 
 package org.apache.commons.httpclient.auth;
 
+import java.util.Locale;
 import java.util.Map;
 
 /**
@@ -117,7 +118,7 @@
         if (this.params == null) {
             return null;
         }
-        return (String) this.params.get(name.toLowerCase());
+        return (String) this.params.get(name.toLowerCase(Locale.ENGLISH));
     }
 
     /**
Index: src/java/org/apache/commons/httpclient/auth/AuthChallengeParser.java
===================================================================
--- src/java/org/apache/commons/httpclient/auth/AuthChallengeParser.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/auth/AuthChallengeParser.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/auth/AuthChallengeParser.java,v 1.10 2004/05/13 04:02:00 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -32,6 +32,7 @@
 
 import java.util.HashMap;
 import java.util.List;
+import java.util.Locale;
 import java.util.Map;
 
 import org.apache.commons.httpclient.Header;
@@ -74,7 +75,7 @@
         if (s.equals("")) {
             throw new MalformedChallengeException("Invalid challenge: " + challengeStr);
         }
-        return s.toLowerCase();
+        return s.toLowerCase(Locale.ENGLISH);
     }
 
     /** 
@@ -103,7 +104,7 @@
             challengeStr.substring(idx + 1, challengeStr.length()), ',');
         for (int i = 0; i < params.size(); i++) {
             NameValuePair param = (NameValuePair) params.get(i);
-            map.put(param.getName().toLowerCase(), param.getValue());
+            map.put(param.getName().toLowerCase(Locale.ENGLISH), param.getValue());
         }
         return map;
     }
Index: src/java/org/apache/commons/httpclient/auth/AuthPolicy.java
===================================================================
--- src/java/org/apache/commons/httpclient/auth/AuthPolicy.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/auth/AuthPolicy.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/auth/AuthPolicy.java,v 1.6 2004/05/13 04:02:00 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -33,6 +33,7 @@
 import java.util.ArrayList;
 import java.util.HashMap;
 import java.util.List;
+import java.util.Locale;
 
 import org.apache.commons.logging.Log;
 import org.apache.commons.logging.LogFactory;
@@ -129,8 +130,8 @@
         if (clazz == null) {
             throw new IllegalArgumentException("Authentication scheme class may not be null");
         }
-        SCHEMES.put(id.toLowerCase(), clazz);
-        SCHEME_LIST.add(id.toLowerCase());
+        SCHEMES.put(id.toLowerCase(Locale.ENGLISH), clazz);
+        SCHEME_LIST.add(id.toLowerCase(Locale.ENGLISH));
     }
 
     /**
@@ -143,8 +144,8 @@
          if (id == null) {
              throw new IllegalArgumentException("Id may not be null");
          }
-        SCHEMES.remove(id.toLowerCase());
-        SCHEME_LIST.remove(id.toLowerCase());
+        SCHEMES.remove(id.toLowerCase(Locale.ENGLISH));
+        SCHEME_LIST.remove(id.toLowerCase(Locale.ENGLISH));
     }
 
     /**
@@ -162,7 +163,7 @@
         if (id == null) {
             throw new IllegalArgumentException("Id may not be null");
         }
-        Class clazz = (Class)SCHEMES.get(id.toLowerCase());
+        Class clazz = (Class)SCHEMES.get(id.toLowerCase(Locale.ENGLISH));
         if (clazz != null) {
             try {
                 return (AuthScheme)clazz.newInstance();
Index: src/java/org/apache/commons/httpclient/auth/AuthSchemeBase.java
===================================================================
--- src/java/org/apache/commons/httpclient/auth/AuthSchemeBase.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/auth/AuthSchemeBase.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/auth/AuthSchemeBase.java,v 1.7 2004/04/18 23:51:36 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/auth/HttpAuthRealm.java
===================================================================
--- src/java/org/apache/commons/httpclient/auth/HttpAuthRealm.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/auth/HttpAuthRealm.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/auth/HttpAuthRealm.java,v 1.9 2004/06/12 22:47:23 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/auth/AuthChallengeException.java
===================================================================
--- src/java/org/apache/commons/httpclient/auth/AuthChallengeException.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/auth/AuthChallengeException.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/auth/AuthChallengeException.java,v 1.2 2004/04/18 23:51:36 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/auth/InvalidCredentialsException.java
===================================================================
--- src/java/org/apache/commons/httpclient/auth/InvalidCredentialsException.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/auth/InvalidCredentialsException.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/auth/InvalidCredentialsException.java,v 1.4 2004/05/13 04:02:00 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/auth/AuthScheme.java
===================================================================
--- src/java/org/apache/commons/httpclient/auth/AuthScheme.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/auth/AuthScheme.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/auth/AuthScheme.java,v 1.12 2004/05/13 04:02:00 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/auth/MalformedChallengeException.java
===================================================================
--- src/java/org/apache/commons/httpclient/auth/MalformedChallengeException.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/auth/MalformedChallengeException.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/auth/MalformedChallengeException.java,v 1.6 2004/05/13 04:02:00 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/auth/AuthScope.java
===================================================================
--- src/java/org/apache/commons/httpclient/auth/AuthScope.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/auth/AuthScope.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/auth/AuthScope.java,v 1.2 2004/06/23 06:50:25 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -30,6 +30,8 @@
 
 package org.apache.commons.httpclient.auth;
 
+import java.util.Locale;
+
 import org.apache.commons.httpclient.util.LangUtils;
 
 /** 
@@ -106,10 +108,10 @@
     public AuthScope(final String host, int port, 
         final String realm, final String scheme)
     {
-        this.host =   (host == null)   ? ANY_HOST: host.toLowerCase();
+        this.host =   (host == null)   ? ANY_HOST: host.toLowerCase(Locale.ENGLISH);
         this.port =   (port < 0)       ? ANY_PORT: port;
         this.realm =  (realm == null)  ? ANY_REALM: realm;
-        this.scheme = (scheme == null) ? ANY_SCHEME: scheme.toUpperCase();;
+        this.scheme = (scheme == null) ? ANY_SCHEME: scheme.toUpperCase(Locale.ENGLISH);
     }
     
     /** Creates a new credentials scope for the given 
@@ -294,7 +296,7 @@
     public String toString() {
         StringBuffer buffer = new StringBuffer();
         if (this.scheme != null) {
-            buffer.append(this.scheme.toUpperCase());
+            buffer.append(this.scheme.toUpperCase(Locale.ENGLISH));
             buffer.append(' ');
         }
         if (this.realm != null) {
Index: src/java/org/apache/commons/httpclient/auth/CredentialsNotAvailableException.java
===================================================================
--- src/java/org/apache/commons/httpclient/auth/CredentialsNotAvailableException.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/auth/CredentialsNotAvailableException.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/auth/CredentialsNotAvailableException.java,v 1.4 2004/05/13 04:02:00 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/auth/AuthenticationException.java
===================================================================
--- src/java/org/apache/commons/httpclient/auth/AuthenticationException.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/auth/AuthenticationException.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/auth/AuthenticationException.java,v 1.6 2004/05/13 04:02:00 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/methods/TraceMethod.java
===================================================================
--- src/java/org/apache/commons/httpclient/methods/TraceMethod.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/methods/TraceMethod.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/methods/multipart/PartBase.java
===================================================================
--- src/java/org/apache/commons/httpclient/methods/multipart/PartBase.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/methods/multipart/PartBase.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/methods/multipart/PartBase.java,v 1.5 2004/04/18 23:51:37 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/methods/multipart/FilePart.java
===================================================================
--- src/java/org/apache/commons/httpclient/methods/multipart/FilePart.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/methods/multipart/FilePart.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/methods/multipart/FilePart.java,v 1.19 2004/04/18 23:51:37 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/methods/multipart/Part.java
===================================================================
--- src/java/org/apache/commons/httpclient/methods/multipart/Part.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/methods/multipart/Part.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/methods/multipart/Part.java,v 1.16 2005/01/14 21:16:40 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/methods/multipart/FilePartSource.java
===================================================================
--- src/java/org/apache/commons/httpclient/methods/multipart/FilePartSource.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/methods/multipart/FilePartSource.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/methods/multipart/FilePartSource.java,v 1.10 2004/04/18 23:51:37 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/methods/multipart/MultipartRequestEntity.java
===================================================================
--- src/java/org/apache/commons/httpclient/methods/multipart/MultipartRequestEntity.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/methods/multipart/MultipartRequestEntity.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/methods/multipart/MultipartRequestEntity.java,v 1.1 2004/10/06 03:39:59 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/methods/multipart/PartSource.java
===================================================================
--- src/java/org/apache/commons/httpclient/methods/multipart/PartSource.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/methods/multipart/PartSource.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/methods/multipart/PartSource.java,v 1.6 2004/04/18 23:51:37 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/methods/multipart/ByteArrayPartSource.java
===================================================================
--- src/java/org/apache/commons/httpclient/methods/multipart/ByteArrayPartSource.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/methods/multipart/ByteArrayPartSource.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/methods/multipart/ByteArrayPartSource.java,v 1.7 2004/04/18 23:51:37 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/methods/multipart/StringPart.java
===================================================================
--- src/java/org/apache/commons/httpclient/methods/multipart/StringPart.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/methods/multipart/StringPart.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/methods/multipart/StringPart.java,v 1.11 2004/04/18 23:51:37 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/methods/HeadMethod.java
===================================================================
--- src/java/org/apache/commons/httpclient/methods/HeadMethod.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/methods/HeadMethod.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/methods/HeadMethod.java,v 1.29 2004/06/13 20:22:19 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/methods/DeleteMethod.java
===================================================================
--- src/java/org/apache/commons/httpclient/methods/DeleteMethod.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/methods/DeleteMethod.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/methods/DeleteMethod.java,v 1.14 2004/04/18 23:51:37 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/methods/ByteArrayRequestEntity.java
===================================================================
--- src/java/org/apache/commons/httpclient/methods/ByteArrayRequestEntity.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/methods/ByteArrayRequestEntity.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/methods/ByteArrayRequestEntity.java,v 1.3 2004/05/13 02:26:08 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/methods/PutMethod.java
===================================================================
--- src/java/org/apache/commons/httpclient/methods/PutMethod.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/methods/PutMethod.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/methods/PutMethod.java,v 1.26 2004/04/18 23:51:37 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/methods/EntityEnclosingMethod.java
===================================================================
--- src/java/org/apache/commons/httpclient/methods/EntityEnclosingMethod.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/methods/EntityEnclosingMethod.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/methods/EntityEnclosingMethod.java,v 1.39 2004/07/03 14:27:03 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/methods/GetMethod.java
===================================================================
--- src/java/org/apache/commons/httpclient/methods/GetMethod.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/methods/GetMethod.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/methods/GetMethod.java,v 1.29 2004/06/13 20:22:19 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/methods/InputStreamRequestEntity.java
===================================================================
--- src/java/org/apache/commons/httpclient/methods/InputStreamRequestEntity.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/methods/InputStreamRequestEntity.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/methods/InputStreamRequestEntity.java,v 1.4 2004/05/17 21:46:03 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/methods/RequestEntity.java
===================================================================
--- src/java/org/apache/commons/httpclient/methods/RequestEntity.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/methods/RequestEntity.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/methods/RequestEntity.java,v 1.4 2004/05/17 21:46:03 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/methods/PostMethod.java
===================================================================
--- src/java/org/apache/commons/httpclient/methods/PostMethod.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/methods/PostMethod.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/methods/PostMethod.java,v 1.58 2004/08/08 12:50:09 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/methods/MultipartPostMethod.java
===================================================================
--- src/java/org/apache/commons/httpclient/methods/MultipartPostMethod.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/methods/MultipartPostMethod.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/methods/MultipartPostMethod.java,v 1.27 2004/10/06 03:39:59 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/methods/OptionsMethod.java
===================================================================
--- src/java/org/apache/commons/httpclient/methods/OptionsMethod.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/methods/OptionsMethod.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/methods/OptionsMethod.java,v 1.15 2004/04/18 23:51:37 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -38,6 +38,7 @@
 import org.apache.commons.logging.LogFactory;
 import org.apache.commons.logging.Log;
 import java.util.Enumeration;
+import java.util.Locale;
 import java.util.StringTokenizer;
 import java.util.Vector;
 
@@ -169,7 +170,7 @@
                 new StringTokenizer(allowHeaderValue, ",");
             while (tokenizer.hasMoreElements()) {
                 String methodAllowed =
-                    tokenizer.nextToken().trim().toUpperCase();
+                    tokenizer.nextToken().trim().toUpperCase(Locale.ENGLISH);
                 methodsAllowed.addElement(methodAllowed);
             }
         }
Index: src/java/org/apache/commons/httpclient/methods/ExpectContinueMethod.java
===================================================================
--- src/java/org/apache/commons/httpclient/methods/ExpectContinueMethod.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/methods/ExpectContinueMethod.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/methods/ExpectContinueMethod.java,v 1.13 2004/05/08 10:12:08 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/HttpStatus.java
===================================================================
--- src/java/org/apache/commons/httpclient/HttpStatus.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/HttpStatus.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/HttpStatus.java,v 1.18 2004/05/02 11:21:13 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/cookie/CookieSpecBase.java
===================================================================
--- src/java/org/apache/commons/httpclient/cookie/CookieSpecBase.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/cookie/CookieSpecBase.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/cookie/CookieSpecBase.java,v 1.28 2004/11/06 19:15:42 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -34,6 +34,7 @@
 import java.util.Date;
 import java.util.LinkedList;
 import java.util.List;
+import java.util.Locale;
 
 import org.apache.commons.httpclient.Cookie;
 import org.apache.commons.httpclient.Header;
@@ -135,7 +136,7 @@
         if (path.trim().equals("")) {
             path = PATH_DELIM;
         }
-        host = host.toLowerCase();
+        host = host.toLowerCase(Locale.ENGLISH);
 
         String defaultPath = path;    
         int lastSlashIndex = defaultPath.lastIndexOf(PATH_DELIM);
@@ -150,7 +151,7 @@
         HeaderElement[] headerElements = null;
 
         boolean isNetscapeCookie = false; 
-        int i1 = header.toLowerCase().indexOf("expires=");
+        int i1 = header.toLowerCase(Locale.ENGLISH).indexOf("expires=");
         if (i1 != -1) {
             i1 += "expires=".length();
             int i2 = header.indexOf(";", i1);
@@ -269,7 +270,7 @@
         if (cookie == null) {
             throw new IllegalArgumentException("Cookie may not be null.");
         }
-        final String paramName = attribute.getName().toLowerCase();
+        final String paramName = attribute.getName().toLowerCase(Locale.ENGLISH);
         String paramValue = attribute.getValue();
 
         if (paramName.equals("path")) {
@@ -386,7 +387,7 @@
         if (path.trim().equals("")) {
             path = PATH_DELIM;
         }
-        host = host.toLowerCase();
+        host = host.toLowerCase(Locale.ENGLISH);
         // check version
         if (cookie.getVersion() < 0) {
             throw new MalformedCookieException ("Illegal version number " 
@@ -474,7 +475,7 @@
         if (path.trim().equals("")) {
             path = PATH_DELIM;
         }
-        host = host.toLowerCase();
+        host = host.toLowerCase(Locale.ENGLISH);
         if (cookie.getDomain() == null) {
             LOG.warn("Invalid cookie state: domain not specified");
             return false;
Index: src/java/org/apache/commons/httpclient/cookie/MalformedCookieException.java
===================================================================
--- src/java/org/apache/commons/httpclient/cookie/MalformedCookieException.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/cookie/MalformedCookieException.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/cookie/MalformedCookieException.java,v 1.8 2004/05/13 04:02:00 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/cookie/RFC2109Spec.java
===================================================================
--- src/java/org/apache/commons/httpclient/cookie/RFC2109Spec.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/cookie/RFC2109Spec.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/cookie/RFC2109Spec.java,v 1.21 2004/06/05 16:49:20 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * 
@@ -30,6 +30,8 @@
 
 package org.apache.commons.httpclient.cookie;
 
+import java.util.Locale;
+
 import org.apache.commons.httpclient.NameValuePair;
 import org.apache.commons.httpclient.Cookie;
 import org.apache.commons.httpclient.util.ParameterFormatter;
@@ -87,7 +89,7 @@
         if (cookie == null) {
             throw new IllegalArgumentException("Cookie may not be null.");
         }
-        final String paramName = attribute.getName().toLowerCase();
+        final String paramName = attribute.getName().toLowerCase(Locale.ENGLISH);
         final String paramValue = attribute.getValue();
 
         if (paramName.equals("path")) {
@@ -164,7 +166,7 @@
                     + cookie.getDomain() 
                     + "\" violates RFC 2109: domain must contain an embedded dot");
             }
-            host = host.toLowerCase();
+            host = host.toLowerCase(Locale.ENGLISH);
             if (!host.endsWith(cookie.getDomain())) {
                 throw new MalformedCookieException(
                     "Illegal domain attribute \"" + cookie.getDomain() 
Index: src/java/org/apache/commons/httpclient/cookie/CookieSpec.java
===================================================================
--- src/java/org/apache/commons/httpclient/cookie/CookieSpec.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/cookie/CookieSpec.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/cookie/CookieSpec.java,v 1.11 2004/09/14 20:11:31 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/cookie/CookiePolicy.java
===================================================================
--- src/java/org/apache/commons/httpclient/cookie/CookiePolicy.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/cookie/CookiePolicy.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/cookie/CookiePolicy.java,v 1.15 2004/09/14 20:11:31 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -32,6 +32,7 @@
 
 import java.util.Collections;
 import java.util.HashMap;
+import java.util.Locale;
 import java.util.Map;
 
 import org.apache.commons.logging.Log;
@@ -171,7 +172,7 @@
         if (clazz == null) {
             throw new IllegalArgumentException("Cookie spec class may not be null");
         }
-        SPECS.put(id.toLowerCase(), clazz);
+        SPECS.put(id.toLowerCase(Locale.ENGLISH), clazz);
     }
 
     /**
@@ -185,7 +186,7 @@
          if (id == null) {
              throw new IllegalArgumentException("Id may not be null");
          }
-         SPECS.remove(id.toLowerCase());
+         SPECS.remove(id.toLowerCase(Locale.ENGLISH));
     }
 
     /**
@@ -205,7 +206,7 @@
         if (id == null) {
             throw new IllegalArgumentException("Id may not be null");
         }
-        Class clazz = (Class)SPECS.get(id.toLowerCase());
+        Class clazz = (Class)SPECS.get(id.toLowerCase(Locale.ENGLISH));
 
         if (clazz != null) {
             try {
Index: src/java/org/apache/commons/httpclient/cookie/Cookie2.java
===================================================================
--- src/java/org/apache/commons/httpclient/cookie/Cookie2.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/cookie/Cookie2.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /cvsroot/httpc-cookie2/httpc-cookie2/httpcookie2SVN-patch.082805-2100.diff,v 1.1 2005/08/29 05:01:58 sjain700 Exp $
+ * $HeadURL$
  * $Revision:400312 $
  * $Date:2006-05-06 14:49:41 +0200 (Sat, 06 May 2006) $
  *
Index: src/java/org/apache/commons/httpclient/cookie/IgnoreCookiesSpec.java
===================================================================
--- src/java/org/apache/commons/httpclient/cookie/IgnoreCookiesSpec.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/cookie/IgnoreCookiesSpec.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/cookie/IgnoreCookiesSpec.java,v 1.6 2004/09/14 20:11:31 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/cookie/RFC2965Spec.java
===================================================================
--- src/java/org/apache/commons/httpclient/cookie/RFC2965Spec.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/cookie/RFC2965Spec.java	(revision 915934)
@@ -38,6 +38,7 @@
 import java.util.Iterator;
 import java.util.LinkedList;
 import java.util.List;
+import java.util.Locale;
 import java.util.Map;
 import java.util.StringTokenizer;
 
@@ -275,7 +276,7 @@
                 Map attribmap = new HashMap(parameters.length); 
                 for (int j = parameters.length - 1; j >= 0; j--) {
                     NameValuePair param = parameters[j];
-                    attribmap.put(param.getName().toLowerCase(), param);
+                    attribmap.put(param.getName().toLowerCase(Locale.ENGLISH), param);
                 }
                 for (Iterator it = attribmap.entrySet().iterator(); it.hasNext(); ) {
                     Map.Entry entry = (Map.Entry) it.next();
@@ -309,7 +310,7 @@
         if (cookie == null) {
             throw new IllegalArgumentException("Cookie may not be null.");
         }
-        final String paramName = attribute.getName().toLowerCase();
+        final String paramName = attribute.getName().toLowerCase(Locale.ENGLISH);
         final String paramValue = attribute.getValue();
 
         CookieAttributeHandler handler = findAttribHandler(paramName);
@@ -556,7 +557,7 @@
      * @return
      */
     private static String getEffectiveHost(final String host) {
-        String effectiveHost = host.toLowerCase();
+        String effectiveHost = host.toLowerCase(Locale.ENGLISH);
         if (host.indexOf('.') < 0) {
             effectiveHost += ".local";
         }
@@ -712,7 +713,7 @@
                 throw new MalformedCookieException(
                         "Blank value for domain attribute");
             }
-            domain = domain.toLowerCase();
+            domain = domain.toLowerCase(Locale.ENGLISH);
             if (!domain.startsWith(".")) {
                 // Per RFC 2965 section 3.2.2
                 // "... If an explicitly specified value does not start with
@@ -736,12 +737,12 @@
             if (origin == null) {
                 throw new IllegalArgumentException("Cookie origin may not be null");
             }
-            String host = origin.getHost().toLowerCase();
+            String host = origin.getHost().toLowerCase(Locale.ENGLISH);
             if (cookie.getDomain() == null) {
                 throw new MalformedCookieException("Invalid cookie state: " +
                                                    "domain not specified");
             }
-            String cookieDomain = cookie.getDomain().toLowerCase();
+            String cookieDomain = cookie.getDomain().toLowerCase(Locale.ENGLISH);
 
             if (cookie.isDomainAttributeSpecified()) {
                 // Domain attribute must start with a dot
@@ -799,7 +800,7 @@
             if (origin == null) {
                 throw new IllegalArgumentException("Cookie origin may not be null");
             }
-            String host = origin.getHost().toLowerCase();
+            String host = origin.getHost().toLowerCase(Locale.ENGLISH);
             String cookieDomain = cookie.getDomain();
 
             // The effective host name MUST domain-match the Domain
Index: src/java/org/apache/commons/httpclient/cookie/CookieVersionSupport.java
===================================================================
--- src/java/org/apache/commons/httpclient/cookie/CookieVersionSupport.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/cookie/CookieVersionSupport.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/cookie/CookiePathComparator.java
===================================================================
--- src/java/org/apache/commons/httpclient/cookie/CookiePathComparator.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/cookie/CookiePathComparator.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header$
+ * $HeadURL$
  * $Revision:400312 $
  * $Date:2006-05-06 14:49:41 +0200 (Sat, 06 May 2006) $
  *
Index: src/java/org/apache/commons/httpclient/cookie/NetscapeDraftSpec.java
===================================================================
--- src/java/org/apache/commons/httpclient/cookie/NetscapeDraftSpec.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/cookie/NetscapeDraftSpec.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/cookie/NetscapeDraftSpec.java,v 1.11 2004/05/13 04:02:00 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -125,7 +125,7 @@
         if (path.trim().equals("")) {
             path = PATH_DELIM;
         }
-        host = host.toLowerCase();
+        host = host.toLowerCase(Locale.ENGLISH);
 
         String defaultPath = path;    
         int lastSlashIndex = defaultPath.lastIndexOf(PATH_DELIM);
@@ -174,7 +174,7 @@
         if (cookie == null) {
             throw new IllegalArgumentException("Cookie may not be null.");
         }
-        final String paramName = attribute.getName().toLowerCase();
+        final String paramName = attribute.getName().toLowerCase(Locale.ENGLISH);
         final String paramValue = attribute.getValue();
 
         if (paramName.equals("expires")) {
@@ -256,7 +256,7 @@
      * @return True if the specified domain is "special"
      */
     private static boolean isSpecialDomain(final String domain) {
-        final String ucDomain = domain.toUpperCase();
+        final String ucDomain = domain.toUpperCase(Locale.ENGLISH);
         if (ucDomain.endsWith(".COM") 
            || ucDomain.endsWith(".EDU")
            || ucDomain.endsWith(".NET")
Index: src/java/org/apache/commons/httpclient/ConnectMethod.java
===================================================================
--- src/java/org/apache/commons/httpclient/ConnectMethod.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/ConnectMethod.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/ConnectMethod.java,v 1.29 2004/06/24 21:39:52 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/AutoCloseInputStream.java
===================================================================
--- src/java/org/apache/commons/httpclient/AutoCloseInputStream.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/AutoCloseInputStream.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/AutoCloseInputStream.java,v 1.9 2004/04/18 23:51:34 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/HttpConnectionManager.java
===================================================================
--- src/java/org/apache/commons/httpclient/HttpConnectionManager.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/HttpConnectionManager.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/HttpConnectionManager.java,v 1.24 2004/07/05 22:46:58 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/HttpParser.java
===================================================================
--- src/java/org/apache/commons/httpclient/HttpParser.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/HttpParser.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/HttpParser.java,v 1.13 2005/01/11 13:57:06 oglueck Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/Credentials.java
===================================================================
--- src/java/org/apache/commons/httpclient/Credentials.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/Credentials.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/Credentials.java,v 1.9 2004/04/18 23:51:34 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/HttpConnection.java
===================================================================
--- src/java/org/apache/commons/httpclient/HttpConnection.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/HttpConnection.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/HttpConnection.java,v 1.107 2005/01/14 21:30:59 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -892,7 +892,9 @@
     public boolean isResponseAvailable(int timeout) 
         throws IOException {
         LOG.trace("enter HttpConnection.isResponseAvailable(int)");
-        assertOpen();
+        if (!this.isOpen) {
+            return false;
+        }
         boolean result = false;
         if (this.inputStream.available() > 0) {
             result = true;
@@ -1105,7 +1107,7 @@
      *
      * @throws IllegalStateException if the connection is not open
      * @throws IOException if an I/O problem occurs
-     * @return a line from the response
+     * @return a line from the response or null at the end of the stream
      * 
      * @since 3.0
      */
Index: src/java/org/apache/commons/httpclient/params/DefaultHttpParamsFactory.java
===================================================================
--- src/java/org/apache/commons/httpclient/params/DefaultHttpParamsFactory.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/params/DefaultHttpParamsFactory.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/params/DefaultHttpParamsFactory.java,v 1.16 2004/11/20 21:48:47 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -32,6 +32,7 @@
 
 import java.util.ArrayList;
 import java.util.Arrays;
+import java.util.Locale;
 
 import org.apache.commons.httpclient.DefaultHttpMethodRetryHandler;
 import org.apache.commons.httpclient.HttpVersion;
@@ -115,7 +116,7 @@
         } catch (SecurityException ignore) {
         }
         if (preemptiveDefault != null) {
-            preemptiveDefault = preemptiveDefault.trim().toLowerCase();
+            preemptiveDefault = preemptiveDefault.trim().toLowerCase(Locale.ENGLISH);
             if (preemptiveDefault.equals("true")) {
                 params.setParameter(HttpClientParams.PREEMPTIVE_AUTHENTICATION, Boolean.TRUE);
             } else if (preemptiveDefault.equals("false")) {
Index: src/java/org/apache/commons/httpclient/params/HostParams.java
===================================================================
--- src/java/org/apache/commons/httpclient/params/HostParams.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/params/HostParams.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/params/HostParams.java,v 1.5 2004/10/06 17:32:04 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/params/HttpClientParams.java
===================================================================
--- src/java/org/apache/commons/httpclient/params/HttpClientParams.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/params/HttpClientParams.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/params/HttpClientParams.java,v 1.7 2004/05/13 04:01:22 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/params/HttpConnectionParams.java
===================================================================
--- src/java/org/apache/commons/httpclient/params/HttpConnectionParams.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/params/HttpConnectionParams.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/params/HttpConnectionParams.java,v 1.6 2004/09/15 20:32:21 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/params/HttpParams.java
===================================================================
--- src/java/org/apache/commons/httpclient/params/HttpParams.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/params/HttpParams.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/params/HttpParams.java,v 1.6 2004/05/13 04:01:22 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/params/HttpMethodParams.java
===================================================================
--- src/java/org/apache/commons/httpclient/params/HttpMethodParams.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/params/HttpMethodParams.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/params/HttpMethodParams.java,v 1.17 2004/10/06 17:32:04 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/params/DefaultHttpParams.java
===================================================================
--- src/java/org/apache/commons/httpclient/params/DefaultHttpParams.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/params/DefaultHttpParams.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/params/DefaultHttpParams.java,v 1.9 2004/12/21 23:15:21 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/params/HttpParamsFactory.java
===================================================================
--- src/java/org/apache/commons/httpclient/params/HttpParamsFactory.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/params/HttpParamsFactory.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/params/HttpParamsFactory.java,v 1.5 2004/05/13 04:01:22 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/params/HttpConnectionManagerParams.java
===================================================================
--- src/java/org/apache/commons/httpclient/params/HttpConnectionManagerParams.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/params/HttpConnectionManagerParams.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/params/HttpConnectionManagerParams.java,v 1.9 2004/09/13 16:25:20 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/HttpMethodRetryHandler.java
===================================================================
--- src/java/org/apache/commons/httpclient/HttpMethodRetryHandler.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/HttpMethodRetryHandler.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/HttpMethodRetryHandler.java,v 1.2 2004/09/14 20:11:31 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/HeaderGroup.java
===================================================================
--- src/java/org/apache/commons/httpclient/HeaderGroup.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/HeaderGroup.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/HeaderGroup.java,v 1.8 2004/05/13 04:03:25 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -33,6 +33,7 @@
 import java.util.ArrayList;
 import java.util.Iterator;
 import java.util.List;
+import java.util.Locale;
 
 /**
  * A class for combining a set of headers.  This class allows for multiple
@@ -122,7 +123,7 @@
                 valueBuffer.append(headers[i].getValue());
             }
             
-            return new Header(name.toLowerCase(), valueBuffer.toString());
+            return new Header(name.toLowerCase(Locale.ENGLISH), valueBuffer.toString());
         }
     }
     
Index: src/java/org/apache/commons/httpclient/WireLogOutputStream.java
===================================================================
--- src/java/org/apache/commons/httpclient/WireLogOutputStream.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/WireLogOutputStream.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/WireLogOutputStream.java,v 1.7 2004/06/24 21:39:52 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/MultiThreadedHttpConnectionManager.java
===================================================================
--- src/java/org/apache/commons/httpclient/MultiThreadedHttpConnectionManager.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/MultiThreadedHttpConnectionManager.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/MultiThreadedHttpConnectionManager.java,v 1.47 2004/12/21 11:27:55 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/Wire.java
===================================================================
--- src/java/org/apache/commons/httpclient/Wire.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/Wire.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/Wire.java,v 1.9 2004/06/24 21:39:52 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/HttpRecoverableException.java
===================================================================
--- src/java/org/apache/commons/httpclient/HttpRecoverableException.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/HttpRecoverableException.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/HttpRecoverableException.java,v 1.15 2004/07/05 22:46:58 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/DefaultMethodRetryHandler.java
===================================================================
--- src/java/org/apache/commons/httpclient/DefaultMethodRetryHandler.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/DefaultMethodRetryHandler.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/DefaultMethodRetryHandler.java,v 1.4 2004/07/05 22:46:58 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/NoHttpResponseException.java
===================================================================
--- src/java/org/apache/commons/httpclient/NoHttpResponseException.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/NoHttpResponseException.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/NoHttpResponseException.java,v 1.1 2004/07/05 22:46:58 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/HttpMethodBase.java
===================================================================
--- src/java/org/apache/commons/httpclient/HttpMethodBase.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/HttpMethodBase.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/HttpMethodBase.java,v 1.222 2005/01/14 21:16:40 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -36,6 +36,7 @@
 import java.io.InputStream;
 import java.io.InterruptedIOException;
 import java.util.Collection;
+import java.util.Locale;
 
 import org.apache.commons.httpclient.auth.AuthState;
 import org.apache.commons.httpclient.cookie.CookiePolicy;
@@ -1503,7 +1504,7 @@
         // Absolute or relative URL?
         if (!connection.isTransparent()) {
             Protocol protocol = connection.getProtocol();
-            buf.append(protocol.getScheme().toLowerCase());
+            buf.append(protocol.getScheme().toLowerCase(Locale.ENGLISH));
             buf.append("://");
             buf.append(connection.getHost());
             if ((connection.getPort() != -1) 
@@ -1976,9 +1977,6 @@
                 throw new NoHttpResponseException("The server " + conn.getHost() + 
                     " failed to respond");
             }
-            if (Wire.HEADER_WIRE.enabled()) {
-                Wire.HEADER_WIRE.input(s + "\r\n");
-            }
             if (s != null && StatusLine.startsWithHTTP(s)) {
                 // Got one
                 break;
@@ -2495,12 +2493,14 @@
     void fakeResponse(
         StatusLine statusline, 
         HeaderGroup responseheaders,
+        HttpConnection conn,
         InputStream responseStream
     ) {
         // set used so that the response can be read
         this.used = true;
         this.statusLine = statusline;
         this.responseHeaders = responseheaders;
+        this.responseConnection = conn;
         this.responseBody = null;
         this.responseStream = responseStream;
     }
Index: src/java/org/apache/commons/httpclient/HttpMethodDirector.java
===================================================================
--- src/java/org/apache/commons/httpclient/HttpMethodDirector.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/HttpMethodDirector.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/HttpMethodDirector.java,v 1.34 2005/01/14 19:40:39 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -516,7 +516,6 @@
             this.connectMethod = null;
             return true;
         } else {
-            this.conn.close();
             return false;
         }
     }
@@ -551,6 +550,7 @@
             ((HttpMethodBase) method).fakeResponse(
                 this.connectMethod.getStatusLine(),
                 this.connectMethod.getResponseHeaderGroup(),
+                conn,
                 this.connectMethod.getResponseBodyAsStream()
             );
             method.getProxyAuthState().setAuthScheme(
@@ -645,7 +645,8 @@
 				+ "' to '" + redirectUri.getEscapedURI());
 		}
         //And finally invalidate the actual authentication scheme
-        method.getHostAuthState().invalidate(); 
+                method.getHostAuthState().invalidate(); 
+                method.getProxyAuthState().invalidate(); 
 		return true;
 	}
 
Index: src/java/org/apache/commons/httpclient/HttpConstants.java
===================================================================
--- src/java/org/apache/commons/httpclient/HttpConstants.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/HttpConstants.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/HttpConstants.java,v 1.15 2004/04/18 23:51:35 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/HttpHost.java
===================================================================
--- src/java/org/apache/commons/httpclient/HttpHost.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/HttpHost.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/HttpHost.java,v 1.3 2005/01/14 21:16:40 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -58,7 +58,7 @@
     /**
      * Constructor for HttpHost.
      *   
-     * @param hostname the hostname (IP or DNS name). Can be <code>null</code>.
+     * @param hostname the hostname (IP or DNS name).
      * @param port the port. Value <code>-1</code> can be used to set default protocol port
      * @param protocol the protocol. Value <code>null</code> can be used to set default protocol
      */
@@ -117,19 +117,19 @@
         init(httphost);
     }
 
-	private void init(final HttpHost httphost) {
-		this.hostname = httphost.hostname;
+    private void init(final HttpHost httphost) {
+        this.hostname = httphost.hostname;
         this.port = httphost.port;
         this.protocol = httphost.protocol;
-	}
+    }
 
     /**
      * @throws CloneNotSupportedException 
      * @see java.lang.Object#clone()
      */
     public Object clone() throws CloneNotSupportedException {
-    	HttpHost copy = (HttpHost) super.clone();
-    	copy.init(this);
+        HttpHost copy = (HttpHost) super.clone();
+        copy.init(this);
         return copy;
     }    
     
Index: src/java/org/apache/commons/httpclient/HttpClient.java
===================================================================
--- src/java/org/apache/commons/httpclient/HttpClient.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/HttpClient.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/HttpClient.java,v 1.98 2004/10/07 16:14:15 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/ConnectTimeoutException.java
===================================================================
--- src/java/org/apache/commons/httpclient/ConnectTimeoutException.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/ConnectTimeoutException.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/ConnectTimeoutException.java,v 1.5 2004/07/05 22:46:58 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/ProxyHost.java
===================================================================
--- src/java/org/apache/commons/httpclient/ProxyHost.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/ProxyHost.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/ProxyHost.java,v 1.2 2005/01/14 21:16:40 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -57,7 +57,7 @@
     /**
      * Constructor for ProxyHost.
      *   
-     * @param hostname the hostname (IP or DNS name). Can be <code>null</code>.
+     * @param hostname the hostname (IP or DNS name).
      * @param port the port. Value <code>-1</code> can be used to set default protocol port
      */
     public ProxyHost(final String hostname, int port) {
@@ -78,7 +78,7 @@
      * @see java.lang.Object#clone()
      */
     public Object clone() throws CloneNotSupportedException {
-    	ProxyHost copy = (ProxyHost) super.clone();
+        ProxyHost copy = (ProxyHost) super.clone();
         return copy;
     }    
     
Index: src/java/org/apache/commons/httpclient/HttpMethod.java
===================================================================
--- src/java/org/apache/commons/httpclient/HttpMethod.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/HttpMethod.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/HttpMethod.java,v 1.43 2004/10/07 16:14:15 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/ProxyClient.java
===================================================================
--- src/java/org/apache/commons/httpclient/ProxyClient.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/ProxyClient.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/ProxyClient.java,v 1.5 2004/12/20 11:39:04 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/RedirectException.java
===================================================================
--- src/java/org/apache/commons/httpclient/RedirectException.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/RedirectException.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/RedirectException.java,v 1.2 2004/04/18 23:51:35 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/HttpVersion.java
===================================================================
--- src/java/org/apache/commons/httpclient/HttpVersion.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/HttpVersion.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/HttpVersion.java,v 1.6 2004/12/20 19:52:50 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/HttpsURL.java
===================================================================
--- src/java/org/apache/commons/httpclient/HttpsURL.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/HttpsURL.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/HttpsURL.java,v 1.11 2004/09/30 17:26:41 oglueck Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/HttpClientError.java
===================================================================
--- src/java/org/apache/commons/httpclient/HttpClientError.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/HttpClientError.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/HttpClientError.java,v 1.4 2004/05/13 04:03:25 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/Header.java
===================================================================
--- src/java/org/apache/commons/httpclient/Header.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/Header.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/Header.java,v 1.17 2004/09/15 20:42:17 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/NameValuePair.java
===================================================================
--- src/java/org/apache/commons/httpclient/NameValuePair.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/NameValuePair.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/NameValuePair.java,v 1.17 2004/04/18 23:51:35 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/StatusLine.java
===================================================================
--- src/java/org/apache/commons/httpclient/StatusLine.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/StatusLine.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/StatusLine.java,v 1.14 2004/07/19 20:24:21 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -30,6 +30,8 @@
 
 package org.apache.commons.httpclient;
 
+import java.util.Locale;
+
 /**
  * Represents a Status-Line as returned from a HTTP server.
  *
@@ -100,7 +102,7 @@
                         "Unable to parse HTTP-Version from the status line: '"
                         + statusLine + "'");
             }
-            this.httpVersion = (statusLine.substring(start, at)).toUpperCase();
+            this.httpVersion = (statusLine.substring(start, at)).toUpperCase(Locale.ENGLISH);
 
             //advance through spaces
             while (statusLine.charAt(at) == ' ') {
Index: src/java/org/apache/commons/httpclient/util/HttpURLConnection.java
===================================================================
--- src/java/org/apache/commons/httpclient/util/HttpURLConnection.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/util/HttpURLConnection.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/util/HttpURLConnection.java,v 1.15 2004/04/18 23:51:38 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/util/EncodingUtil.java
===================================================================
--- src/java/org/apache/commons/httpclient/util/EncodingUtil.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/util/EncodingUtil.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/util/EncodingUtil.java,v 1.8 2004/05/13 04:01:22 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/util/DateParseException.java
===================================================================
--- src/java/org/apache/commons/httpclient/util/DateParseException.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/util/DateParseException.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/util/DateParseException.java,v 1.5 2004/11/06 19:15:42 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/util/DateParser.java
===================================================================
--- src/java/org/apache/commons/httpclient/util/DateParser.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/util/DateParser.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/util/DateParser.java,v 1.11 2004/11/06 19:15:42 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/util/TimeoutController.java
===================================================================
--- src/java/org/apache/commons/httpclient/util/TimeoutController.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/util/TimeoutController.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/util/TimeoutController.java,v 1.6 2004/04/18 23:51:38 jsdever Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/util/DateUtil.java
===================================================================
--- src/java/org/apache/commons/httpclient/util/DateUtil.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/util/DateUtil.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/util/DateUtil.java,v 1.2 2004/12/24 20:36:13 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/util/IdleConnectionHandler.java
===================================================================
--- src/java/org/apache/commons/httpclient/util/IdleConnectionHandler.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/util/IdleConnectionHandler.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/util/IdleConnectionHandler.java,v 1.2 2004/05/13 02:40:36 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/util/ExceptionUtil.java
===================================================================
--- src/java/org/apache/commons/httpclient/util/ExceptionUtil.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/util/ExceptionUtil.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/util/ExceptionUtil.java,v 1.5 2004/10/19 18:09:46 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/util/IdleConnectionTimeoutThread.java
===================================================================
--- src/java/org/apache/commons/httpclient/util/IdleConnectionTimeoutThread.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/util/IdleConnectionTimeoutThread.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/util/IdleConnectionTimeoutThread.java,v 1.2 2004/05/13 02:40:36 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/util/ParameterParser.java
===================================================================
--- src/java/org/apache/commons/httpclient/util/ParameterParser.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/util/ParameterParser.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/util/ParameterParser.java,v 1.5 2004/05/13 04:01:22 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/util/URIUtil.java
===================================================================
--- src/java/org/apache/commons/httpclient/util/URIUtil.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/util/URIUtil.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/util/URIUtil.java,v 1.27 2004/05/05 20:34:01 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/java/org/apache/commons/httpclient/HttpException.java
===================================================================
--- src/java/org/apache/commons/httpclient/HttpException.java	(revision 604567)
+++ src/java/org/apache/commons/httpclient/HttpException.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/java/org/apache/commons/httpclient/HttpException.java,v 1.19 2004/09/30 18:53:20 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/resources/META-INF/NOTICE.txt
===================================================================
--- src/resources/META-INF/NOTICE.txt	(revision 604567)
+++ src/resources/META-INF/NOTICE.txt	(revision 915934)
@@ -1,5 +1,5 @@
-Apache Jakarta HttpClient
-Copyright 1999-2007 The Apache Software Foundation
+Apache HttpComponents Commons HttpClient
+Copyright 1999-2008 The Apache Software Foundation
 
 This product includes software developed by
 The Apache Software Foundation (http://www.apache.org/).
Index: src/examples/ClientApp.java
===================================================================
--- src/examples/ClientApp.java	(revision 604567)
+++ src/examples/ClientApp.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header$
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/examples/CookieDemoApp.java
===================================================================
--- src/examples/CookieDemoApp.java	(revision 604567)
+++ src/examples/CookieDemoApp.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/examples/CookieDemoApp.java,v 1.14 2004/02/22 18:08:45 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/examples/ChunkEncodedPost.java
===================================================================
--- src/examples/ChunkEncodedPost.java	(revision 604567)
+++ src/examples/ChunkEncodedPost.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/examples/ChunkEncodedPost.java,v 1.6 2004/05/12 20:43:53 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/examples/CustomAuthenticationExample.java
===================================================================
--- src/examples/CustomAuthenticationExample.java	(revision 604567)
+++ src/examples/CustomAuthenticationExample.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/examples/CustomAuthenticationExample.java,v 1.1 2004/09/06 20:10:02 mbecke Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/examples/PostXML.java
===================================================================
--- src/examples/PostXML.java	(revision 604567)
+++ src/examples/PostXML.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/examples/PostXML.java,v 1.13 2004/05/12 20:43:53 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/examples/MultiThreadedExample.java
===================================================================
--- src/examples/MultiThreadedExample.java	(revision 604567)
+++ src/examples/MultiThreadedExample.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/examples/MultiThreadedExample.java,v 1.3 2004/02/22 18:08:45 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
@@ -56,14 +56,14 @@
         HttpClient httpClient = new HttpClient(new MultiThreadedHttpConnectionManager());
         // Set the default host/protocol for the methods to connect to.
         // This value will only be used if the methods are not given an absolute URI
-        httpClient.getHostConfiguration().setHost("jakarta.apache.org", 80, "http");
+        httpClient.getHostConfiguration().setHost("hc.apache.org", 80, "http");
         
         // create an array of URIs to perform GETs on
         String[] urisToGet = {
             "/",
-            "/commons/",
-            "/commons/httpclient/",
-            "http://svn.apache.org/viewvc/jakarta/httpcomponents/oac.hc3x/"
+            "/httpclient-3.x/status.html",
+            "/httpclient-3.x/methods/",
+            "http://svn.apache.org/viewvc/httpcomponents/oac.hc3x/"
         };
         
         // create a thread for each URI
Index: src/examples/MultipartFileUploadApp.java
===================================================================
--- src/examples/MultipartFileUploadApp.java	(revision 604567)
+++ src/examples/MultipartFileUploadApp.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header$
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/examples/PostSOAP.java
===================================================================
--- src/examples/PostSOAP.java	(revision 604567)
+++ src/examples/PostSOAP.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header$
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/examples/InteractiveAuthenticationExample.java
===================================================================
--- src/examples/InteractiveAuthenticationExample.java	(revision 604567)
+++ src/examples/InteractiveAuthenticationExample.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/examples/InteractiveAuthenticationExample.java,v 1.2 2004/02/22 18:08:45 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/examples/AlternateAuthenticationExample.java
===================================================================
--- src/examples/AlternateAuthenticationExample.java	(revision 604567)
+++ src/examples/AlternateAuthenticationExample.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/examples/AlternateAuthenticationExample.java,v 1.3 2004/06/12 22:47:23 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/examples/TrivialApp.java
===================================================================
--- src/examples/TrivialApp.java	(revision 604567)
+++ src/examples/TrivialApp.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/examples/TrivialApp.java,v 1.18 2004/06/12 22:47:23 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  *
Index: src/examples/UnbufferedPost.java
===================================================================
--- src/examples/UnbufferedPost.java	(revision 604567)
+++ src/examples/UnbufferedPost.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/examples/UnbufferedPost.java,v 1.5 2004/05/12 20:43:53 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/examples/ProxyTunnelDemo.java
===================================================================
--- src/examples/ProxyTunnelDemo.java	(revision 604567)
+++ src/examples/ProxyTunnelDemo.java	(revision 915934)
@@ -9,7 +9,7 @@
 import org.apache.commons.httpclient.auth.AuthScope;
 
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/examples/ProxyTunnelDemo.java,v 1.2 2004/06/12 22:47:23 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: src/examples/BasicAuthenticationExample.java
===================================================================
--- src/examples/BasicAuthenticationExample.java	(revision 604567)
+++ src/examples/BasicAuthenticationExample.java	(revision 915934)
@@ -1,5 +1,5 @@
 /*
- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/src/examples/BasicAuthenticationExample.java,v 1.4 2004/06/12 22:47:23 olegk Exp $
+ * $HeadURL$
  * $Revision$
  * $Date$
  * ====================================================================
Index: checkstyle.xml.properties
===================================================================
--- checkstyle.xml.properties	(revision 604567)
+++ checkstyle.xml.properties	(revision 915934)
@@ -68,10 +68,10 @@
         <!-- Size Violations checks -->
         <module name="LineLength">
             <property name="max" value="100"/>
-            <property name="ignorePattern" value="Header:"/>
+            <property name="ignorePattern" value="HeadURL:"/>
         </module>
         <!-- TODO: maxlinelen should be somthing more like
-            "^ \* \$Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/checkstyle.xml.properties,v 1.1 2003/10/03 18:44:13 oglueck Exp $$"
+            "^ \* \$HeadXXX: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/checkstyle.xml.properties,v 1.1 2003/10/03 18:44:13 oglueck Exp $$"
         -->
         <module name="MethodLength">
             <property name="max" value="150"/>
Index: checkstyle.properties
===================================================================
--- checkstyle.properties	(revision 604567)
+++ checkstyle.properties	(revision 915934)
@@ -39,9 +39,9 @@
 checkstyle.maxlinelen=100
 checkstyle.tab.width=4
 checkstyle.ignore.importlength=false
-checkstyle.ignore.maxlinelen=Header:
+checkstyle.ignore.maxlinelen=HeadURL:
 <!-- TODO: maxlinelen should be somthing more like
-     "^ \* \$Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/checkstyle.properties,v 1.3 2003/02/01 12:58:39 jsdever Exp $$"
+     "^ \* \$HeadXXX: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//httpclient/checkstyle.properties,v 1.3 2003/02/01 12:58:39 jsdever Exp $$"
 -->
 checkstyle.maxmethodlen=150
 checkstyle.maxconstructorlen=150
Index: doap_httpclient.rdf
===================================================================
--- doap_httpclient.rdf	(revision 604567)
+++ doap_httpclient.rdf	(revision 915934)
@@ -1,31 +1,124 @@
 <?xml version="1.0"?>
-<rdf:RDF xmlns="http://usefulinc.com/ns/doap#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:asfext="http://projects.apache.org/ns/asfext#" xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#" xmlns:doap="http://usefulinc.com/ns/doap#" xml:lang="en">
-  <Project rdf:about="http://jakarta.apache.org/commons/httpclient/">
-    <name>Apache Jakarta Commons HttpClient</name>
-    <homepage rdf:resource="http://jakarta.apache.org/commons/httpclient/"/>
+<?xml-stylesheet type="text/xsl"?>
+<rdf:RDF xml:lang="en"
+         xmlns="http://usefulinc.com/ns/doap#" 
+         xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" 
+         xmlns:asfext="http://projects.apache.org/ns/asfext#"
+         xmlns:foaf="http://xmlns.com/foaf/0.1/">
+<!--
+   $HeadURL$
+   $Revision$
+   $Date$
+
+   ====================================================================
+   Licensed to the Apache Software Foundation (ASF) under one
+   or more contributor license agreements.  See the NOTICE file
+   distributed with this work for additional information
+   regarding copyright ownership.  The ASF licenses this file
+   to you under the Apache License, Version 2.0 (the
+   "License"); you may not use this file except in compliance
+   with the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+   Unless required by applicable law or agreed to in writing,
+   software distributed under the License is distributed on an
+   "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+   KIND, either express or implied.  See the License for the
+   specific language governing permissions and limitations
+   under the License.
+   ====================================================================
+
+   This software consists of voluntary contributions made by many
+   individuals on behalf of the Apache Software Foundation.  For more
+   information on the Apache Software Foundation, please see
+   <http://www.apache.org />.
+-->
+
+  <Project rdf:about="http://hc.apache.org/httpclient-3.x/">
+    <created>2001-04-25</created>
+    <license rdf:resource="http://usefulinc.com/doap/licenses/asl20" />
+    <name>Apache Commons HttpClient</name>
+    <homepage rdf:resource="http://hc.apache.org/httpclient-3.x/" />
+    <asfext:pmc rdf:resource="http://httpcomponents.apache.org" />
+    <shortdesc>
+Client-side HTTP implementation in Java.
+    </shortdesc>
+    <description>
+Commons HttpClient is a library for client-side HTTP communication.
+It provides support for HTTP/1.1 and HTTP/1.0, plus
+various authentication schemes and cookie policies.
+Thanks to it's widespread use and years of development, it is a very
+mature and stable codebase. However, due to limitations in the API design,
+Commons HttpClient will eventually be replaced by HttpClient 4.0
+with a completely redesigned API based on HttpCore.
+    </description>
+    <bug-database rdf:resource="http://issues.apache.org/jira/browse/HTTPCLIENT" />
+    <mailing-list rdf:resource="http://httpcomponents.apache.org/httpclient-3.x/mail-lists.html" />
+    <download-page rdf:resource="http://httpcomponents.apache.org/downloads.cgi" />
     <programming-language>Java</programming-language>
-    <category rdf:resource="http://projects.apache.org/category/library"/>
-    <license rdf:resource="http://usefulinc.com/doap/licenses/asl20"/>
-    <bug-database rdf:resource="http://issues.apache.org/jira/browse/HTTPCLIENT"/>
-    <download-page rdf:resource="http://jakarta.apache.org/site/downloads/downloads_commons-httpclient.cgi"/>
-    <asfext:pmc rdf:resource="http://jakarta.apache.org/"/>
-    <shortdesc xml:lang="en">Client-side HTTP implementation in Java.</shortdesc>
-    <description xml:lang="en">
-    The HttpClient  component supports the client-side of RFC 1945 (HTTP/1.0)  and RFC 2616 (HTTP/1.1), several related specifications (RFC 2109 (Cookies), RFC 2617 (HTTP Authentication), etc.), and provides a framework by which new request types (methods) or HTTP extensions can be created easily.
-  </description>
+    <category rdf:resource="http://projects.apache.org/category/http" />
+    <category rdf:resource="http://projects.apache.org/category/library" />
+    <category rdf:resource="http://projects.apache.org/category/network-client" />
+
+    <!-- multiple releases can be listed, each in it's own section -->
+    <release>
+      <Version>
+        <name>commons-httpclient-3.1</name>
+        <created>2007-08-22</created>
+        <revision>3.1</revision>
+      </Version>
+    </release>
+
     <repository>
       <SVNRepository>
-        <browse rdf:resource="http://svn.apache.org/viewvc/jakarta/httpcomponents/oac.hc3x/trunk"/>
-        <location rdf:resource="http://svn.apache.org/repos/asf/jakarta/httpcomponents/oac.hc3x/trunk"/>
+        <location rdf:resource="http://svn.apache.org/repos/asf/httpcomponents/oac.hc3x/trunk"/>
+        <browse rdf:resource="http://svn.apache.org/viewvc/httpcomponents/oac.hc3x/trunk"/>
       </SVNRepository>
     </repository>
-    <release>
-      <revision>
-        <name>commons-httpclient</name>
-        <created>2005-12-19</created>
-        <version>3.0</version>
-      </revision>
-    </release>
-    <mailing-list rdf:resource="http://jakarta.apache.org/httpcomponents/mail-lists.html"/>
+
+    <asfext:implements><asfext:Standard>
+      <asfext:title>Hypertext Transfer Protocol -- HTTP/1.1</asfext:title>
+      <asfext:body>IETF</asfext:body>
+      <asfext:id>RFC 2616</asfext:id>
+      <asfext:url rdf:resource="http://tools.ietf.org/html/rfc2616"/>
+    </asfext:Standard></asfext:implements>
+    <asfext:implements><asfext:Standard>
+      <asfext:title>Hypertext Transfer Protocol -- HTTP/1.0</asfext:title>
+      <asfext:body>IETF</asfext:body>
+      <asfext:id>RFC 1945</asfext:id>
+      <asfext:url rdf:resource="http://tools.ietf.org/html/rfc1945"/>
+    </asfext:Standard></asfext:implements>
+    <asfext:implements><asfext:Standard>
+      <asfext:title>Upgrading to TLS Within HTTP/1.1</asfext:title>
+      <asfext:body>IETF</asfext:body>
+      <asfext:id>RFC 2817</asfext:id>
+      <asfext:url rdf:resource="http://tools.ietf.org/html/rfc2817"/>
+    </asfext:Standard></asfext:implements>
+    <asfext:implements><asfext:Standard>
+      <asfext:title>HTTP Over TLS</asfext:title>
+      <asfext:body>IETF</asfext:body>
+      <asfext:id>RFC 2818</asfext:id>
+      <asfext:url rdf:resource="http://tools.ietf.org/html/rfc2818"/>
+    </asfext:Standard></asfext:implements>
+    <asfext:implements><asfext:Standard>
+      <asfext:title>HTTP Authentication: Basic and Digest Access Authentication</asfext:title>
+      <asfext:body>IETF</asfext:body>
+      <asfext:id>RFC 2617</asfext:id>
+      <asfext:url rdf:resource="http://tools.ietf.org/html/rfc2617"/>
+    </asfext:Standard></asfext:implements>
+    <asfext:implements><asfext:Standard>
+      <asfext:title>HTTP State Management Mechanism (Cookies)</asfext:title>
+      <asfext:body>IETF</asfext:body>
+      <asfext:id>RFC 2109</asfext:id>
+      <asfext:url rdf:resource="http://tools.ietf.org/html/rfc2109"/>
+    </asfext:Standard></asfext:implements>
+    <asfext:implements><asfext:Standard>
+      <asfext:title>HTTP State Management Mechanism (Cookie2)</asfext:title>
+      <asfext:body>IETF</asfext:body>
+      <asfext:id>RFC 2965</asfext:id>
+      <asfext:url rdf:resource="http://tools.ietf.org/html/rfc2965"/>
+    </asfext:Standard></asfext:implements>
+
   </Project>
 </rdf:RDF>
Index: NOTICE.txt
===================================================================
--- NOTICE.txt	(revision 604567)
+++ NOTICE.txt	(revision 915934)
@@ -1,5 +1,5 @@
-Apache Jakarta HttpClient
-Copyright 1999-2007 The Apache Software Foundation
+Apache HttpComponents Commons HttpClient
+Copyright 1999-2008 The Apache Software Foundation
 
 This product includes software developed by
 The Apache Software Foundation (http://www.apache.org/).
Index: project.properties
===================================================================
--- project.properties	(revision 604567)
+++ project.properties	(revision 915934)
@@ -11,7 +11,7 @@
 maven.checkstyle.properties=checkstyle.xml.properties
 maven.checkstyle.includes=**/*.java
 maven.checkstyle.excludes=**/*.html
-maven.javadoc.links=http://java.sun.com/j2se/1.4.2/docs/api/, http://commons.apache.org/logging/commons-logging-1.0.4/docs/apidocs/
+maven.javadoc.links=http://java.sun.com/j2se/1.5.0/docs/api/, http://commons.apache.org/logging/commons-logging-1.0.4/docs/apidocs/
 maven.changelog.factory=org.apache.maven.svnlib.SvnChangeLogFactory
 maven.repo.list=asf
 maven.repo.asf=scp://people.apache.org
Index: project.xml
===================================================================
--- project.xml	(revision 604567)
+++ project.xml	(revision 915934)
@@ -12,8 +12,8 @@
 
   <organization>
     <name>Apache Software Foundation</name>
-    <url>http://jakarta.apache.org/</url>
-    <logo>http://jakarta.apache.org/images/jakarta-logo.gif</logo>
+    <url>http://httpcomponents.apache.org/</url>
+    <logo>http://hc.apache.org/images/logos/httpcomponents.png</logo>
   </organization>
 
 
@@ -23,14 +23,15 @@
   </description>
 
   <logo>/images/httpclient_logo.png</logo>
-  <url>http://jakarta.apache.org/httpcomponents/httpclient-3.x/</url>
+  <url>http://hc.apache.org/httpclient-3.x/</url>
   <issueTrackingUrl>http://issues.apache.org/jira/browse/HTTPCLIENT</issueTrackingUrl>
 
   <siteAddress>people.apache.org</siteAddress>
-  <siteDirectory>/www/jakarta.apache.org/httpcomponents/httpclient-3.x/</siteDirectory>
+  <siteDirectory>/www/hc.apache.org/httpclient-3.x/</siteDirectory>
   <repository>
-   <connection>scm:svn:http://svn.apache.org/repos/asf/jakarta/httpcomponents/oac.hc3x/trunk</connection>
-    <url>http://svn.apache.org/repos/asf/jakarta/httpcomponents/oac.hc3x/trunk</url>
+    <connection>scm:svn:http://svn.apache.org/repos/asf/httpcomponents/oac.hc3x/trunk</connection>
+    <developerConnection>scm:svn:https://svn.apache.org/repos/asf/httpcomponents/oac.hc3x/trunk</developerConnection>
+    <url>http://svn.apache.org/viewvc/httpcomponents/oac.hc3x/trunk/</url>
   </repository>
   <versions>
     <version>
@@ -156,16 +157,38 @@
 
   <mailingLists>
     <mailingList>
+      <name>HttpClient User List</name>
+      <subscribe>httpclient-users-subscribe@hc.apache.org</subscribe>
+      <unsubscribe>httpclient-users-unsubscribe@hc.apache.org</unsubscribe>
+      <post>httpclient-users@hc.apache.org</post>
+      <archive>http://mail-archives.apache.org/mod_mbox/hc-httpclient-users/</archive>
+      <otherArchives>
+        <otherArchive>http://www.nabble.com/HttpClient-User-f20180.html</otherArchive>
+        <otherArchive>http://marc.info/?l=httpclient-users</otherArchive>
+        <otherArchive>http://hc.apache.org/mail/httpclient-users/</otherArchive>
+      </otherArchives>
+    </mailingList>
+    <mailingList>
       <name>HttpComponents Developer List</name>
-      <subscribe>httpcomponents-dev-subscribe@jakarta.apache.org</subscribe>
-      <unsubscribe>httpcomponents-dev-unsubscribe@jakarta.apache.org</unsubscribe>
-      <archive>http://mail-archives.apache.org/mod_mbox/jakarta-httpcomponents-dev/</archive>
+      <subscribe>dev-subscribe@hc.apache.org</subscribe>
+      <unsubscribe>dev-unsubscribe@hc.apache.org</unsubscribe>
+      <post>dev@hc.apache.org</post>
+      <archive>http://mail-archives.apache.org/mod_mbox/hc-dev/</archive>
+      <otherArchives>
+        <otherArchive>http://www.nabble.com/HttpComponents-Dev-f20179.html</otherArchive>
+        <otherArchive>http://marc.info/?l=httpclient-commons-dev</otherArchive>
+        <otherArchive>http://hc.apache.org/mail/dev/</otherArchive>
+      </otherArchives>
     </mailingList>
     <mailingList>
-      <name>HttpClient User List</name>
-      <subscribe>httpclient-user-subscribe@jakarta.apache.org</subscribe>
-      <unsubscribe>httpclient-user-unsubscribe@jakarta.apache.org</unsubscribe>
-      <archive>http://mail-archives.apache.org/mod_mbox/jakarta-httpclient-user/</archive>
+      <name>HttpComponents Commits List</name>
+      <subscribe>commits-subscribe@hc.apache.org</subscribe>
+      <unsubscribe>commits-unsubscribe@hc.apache.org</unsubscribe>
+      <archive>http://mail-archives.apache.org/mod_mbox/hc-commits/</archive>
+      <otherArchives>
+        <otherArchive>http://marc.info/?l=httpcomponents-commits</otherArchive>
+        <otherArchive>http://hc.apache.org/mail/commits/</otherArchive>
+      </otherArchives>
     </mailingList>
   </mailingLists>
 
@@ -355,7 +378,7 @@
   </dependencies>
 
   <build>
-    <nagEmailAddress>httpcomponents-dev@jakarta.apache.org</nagEmailAddress>
+    <nagEmailAddress>dev@hc.apache.org</nagEmailAddress>
     <sourceDirectory>src/java</sourceDirectory>
     <unitTestSourceDirectory>src/test</unitTestSourceDirectory>
     <resources>
@@ -380,16 +403,11 @@
   </build>
 
   <reports>
-    <report>maven-changelog-plugin</report>
-    <report>maven-changes-plugin</report>
-    <report>maven-developer-activity-plugin</report>
-    <report>maven-file-activity-plugin</report>
     <report>maven-javadoc-plugin</report>
     <report>maven-jdepend-plugin</report>
     <report>maven-junit-report-plugin</report>
     <report>maven-jxr-plugin</report>
     <report>maven-license-plugin</report>
-    <report>maven-tasklist-plugin</report>
   </reports>
   
 </project>
Index: release_notes.txt
===================================================================
--- release_notes.txt	(revision 604567)
+++ release_notes.txt	(revision 915934)
@@ -1,3 +1,28 @@
+Changes since 3.1 Final
+
+* [HTTPCLIENT-917] - Invalidate proxy authentication state on redirects.
+           Contributed by Karl Wright <kwright at metacarta.com>
+
+* [HTTPCLIENT-848] - Connections not released when SSL tunneling fails.
+           Contributed by Oleg Kalnichevski <olegk at apache.org>
+
+* [HTTPCLIENT-837] - Fixed problem with the wire log skipping zero byte values 
+  if read one byte at a time.
+           Contributed by Kirill Safonov <ksafonov at swiftteams.com>
+
+* [HTTPCLIENT-804] - ChunkedInputStream no longer accepts truncated chunks 
+  as valid input.
+           Contributed by Oleg Kalnichevski <olegk at apache.org>
+
+* HttpConnection#isResponseAvailable(int) changed to return false if the
+  connection is closed instead of throwing java.lang.IllegalStateException
+           Contributed by Oleg Kalnichevski <olegk at apache.org>
+
+* [HTTPCLIENT-717] - Fixed NPE in unused SimpleHttpConnectionManager.
+           Contributed by Roland Weber <rolandw at apache.org>
+
+
+
 Release 3.1 Final
 -------------------
 
@@ -30,6 +55,7 @@
 * [HTTPCLIENT-645] - Cookie#compare() changed to do a simple case-sensitive string comparison 
            when comparing path attributes instead of using a static instance of RuleBasedCollator
            Contributed by Oleg Kalnichevski <olegk at apache.org>
+           
 * [HTTPCLIENT-650] - Wire log for headers written one by one while parsing
            instead of all at once afterwards, which fails on parse errors.
            Contributed by Roland Weber <rolandw at apache.org>
Index: README.txt
===================================================================
--- README.txt	(revision 604567)
+++ README.txt	(revision 915934)
@@ -1,11 +1,59 @@
-Jakarta HttpClient
-===========================
-Welcome to the HttpClient component of the Jakarta HttpComponents project.
+Apache HttpComponents Commons HttpClient
+========================================
 
-Visit us online at
-   http://jakarta.apache.org/httpcomponents/index.html
+Welcome to the Commons HttpClient component of the Apache HttpComponents
+project.
+
+Licensing
+---------
+
+Apache HttpComponents Commons HttpClient is licensed under the
+Apache License 2.0. See the files called LICENSE.txt and NOTICE.txt
 for more information.
 
-Visit
-   http://jakarta.apache.org/httpcomponents/status.html
-for the status of the project.
+Cryptographic Software Notice
+-----------------------------
+
+This distribution may include software that has been designed for use
+with cryptographic software. The country in which you currently reside
+may have restrictions on the import, possession, use, and/or re-export
+to another country, of encryption software. BEFORE using any encryption
+software, please check your country's laws, regulations and policies
+concerning the import, possession, or use, and re-export of encryption
+software, to see if this is permitted. See <http://www.wassenaar.org/>
+for more information.
+
+The U.S. Government Department of Commerce, Bureau of Industry and
+Security (BIS), has classified this software as Export Commodity
+Control Number (ECCN) 5D002.C.1, which includes information security
+software using or performing cryptographic functions with asymmetric
+algorithms. The form and manner of this Apache Software Foundation
+distribution makes it eligible for export under the License Exception
+ENC Technology Software Unrestricted (TSU) exception (see the BIS
+Export Administration Regulations, Section 740.13) for both object
+code and source code.
+
+The following provides more details on the included software that
+may be subject to export controls on cryptographic software:
+
+  Apache HttpComponents Commons HttpClient interfaces with the
+  Java Secure Socket Extension (JSSE) API to provide
+
+    - HTTPS support
+
+  Apache HttpComponents Commons HttpClient interfaces with the
+  Java Cryptography Extension (JCE) API to provide
+
+    - NTLM authentication
+
+  Apache HttpComponents Commons HttpClient does not include any
+  implementation of JSSE or JCE.
+
+Contact
+-------
+
+  o For general information visit the main project site at
+    http://hc.apache.org/
+
+  o For current status information visit the status page at
+    http://hc.apache.org/status.html
Index: license.regexp
===================================================================
--- license.regexp	(revision 604567)
+++ license.regexp	(revision 915934)
@@ -1,5 +1,5 @@
 /\*
- \* \$Header: .*
+ \* \$HeadURL: .*
  \* \$Revision: .*
  \* \$Date: .*
  \*
